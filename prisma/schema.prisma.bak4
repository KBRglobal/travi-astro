generator client {
  provider = "prisma-client-js"
}

datasource db {
  url      = env("DATABASE_URL")
  provider = "postgresql"
}

model ab_test_events {
  id               String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  test_id          String?           @db.VarChar
  variant_id       String?           @db.VarChar
  event_type       String
  user_id          String?           @db.VarChar
  session_id       String?           @db.VarChar
  metadata         Json?
  created_at       DateTime?         @default(now()) @db.Timestamp(6)
  ab_tests         ab_tests?         @relation(fields: [test_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "ab_test_events_test_id_ab_tests_id_fk")
  ab_test_variants ab_test_variants? @relation(fields: [variant_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "ab_test_events_variant_id_ab_test_variants_id_fk")
}

model ab_test_variants {
  id             String           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  test_id        String?          @db.VarChar
  name           String
  description    String?
  config         Json
  is_control     Boolean          @default(false)
  weight         Int              @default(50)
  impressions    Int?             @default(0)
  clicks         Int?             @default(0)
  conversions    Int?             @default(0)
  created_at     DateTime?        @default(now()) @db.Timestamp(6)
  ab_test_events ab_test_events[]
  ab_tests       ab_tests?        @relation(fields: [test_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "ab_test_variants_test_id_ab_tests_id_fk")
}

model ab_tests {
  id               String             @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id       String             @db.VarChar
  test_type        ab_test_type
  variants         Json               @default("[]")
  status           ab_test_status     @default(running)
  winner           String?            @db.VarChar
  started_at       DateTime           @default(now()) @db.Timestamp(6)
  ends_at          DateTime?          @db.Timestamp(6)
  created_at       DateTime?          @default(now()) @db.Timestamp(6)
  updated_at       DateTime?          @default(now()) @db.Timestamp(6)
  ab_test_events   ab_test_events[]
  ab_test_variants ab_test_variants[]
}

model activities {
  id           String        @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  type         activity_type
  actor_id     String?       @db.VarChar
  target_type  String?       @db.VarChar(50)
  target_id    String?       @db.VarChar
  target_title String?
  metadata     Json?
  team_id      String?       @db.VarChar
  is_public    Boolean?      @default(true)
  created_at   DateTime?     @default(now()) @db.Timestamp(6)
  users        users?        @relation(fields: [actor_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "activities_actor_id_users_id_fk")
  teams        teams?        @relation(fields: [team_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "activities_team_id_teams_id_fk")
}

model aeo_ab_tests {
  id                 String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name               String    @db.VarChar
  description        String?
  content_id         String    @db.VarChar
  variants           Json?     @default("[]")
  winning_variant_id String?   @db.VarChar
  status             String    @default("draft") @db.VarChar
  start_date         DateTime? @db.Timestamp(6)
  end_date           DateTime? @db.Timestamp(6)
  min_sample_size    Int?      @default(100)
  confidence_level   Int?      @default(95)
  created_at         DateTime? @default(now()) @db.Timestamp(6)
  updated_at         DateTime? @default(now()) @db.Timestamp(6)
  contents           contents  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "aeo_ab_tests_content_id_contents_id_fk")
}

model aeo_answer_capsules {
  id              String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id      String    @db.VarChar
  locale          locale    @default(en)
  capsule_text    String
  capsule_html    String?
  key_facts       Json?     @default("[]")
  quick_answer    String?
  differentiator  String?
  last_query      String?
  quality_score   Int?
  citation_count  Int?      @default(0)
  generated_by_ai Boolean?  @default(true)
  is_approved     Boolean?  @default(false)
  approved_by     String?   @db.VarChar
  approved_at     DateTime? @db.Timestamp(6)
  generated_at    DateTime? @default(now()) @db.Timestamp(6)
  updated_at      DateTime? @default(now()) @db.Timestamp(6)
  users           users?    @relation(fields: [approved_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "aeo_answer_capsules_approved_by_users_id_fk")
  contents        contents  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "aeo_answer_capsules_content_id_contents_id_fk")
}

model aeo_citations {
  id                String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id        String            @db.VarChar
  platform          aeo_platform
  query             String
  citation_type     aeo_citation_type
  cited_text        String?
  response_context  String?
  url               String?
  position          Int?
  competitors_cited Json?             @default("[]")
  session_id        String?           @db.VarChar
  user_agent        String?
  ip_country        String?           @db.VarChar(2)
  detected_at       DateTime?         @default(now()) @db.Timestamp(6)
  contents          contents          @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "aeo_citations_content_id_contents_id_fk")
}

model aeo_crawler_logs {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  crawler       String    @db.VarChar
  user_agent    String
  request_path  String
  content_id    String?   @db.VarChar
  status_code   Int
  response_time Int?
  bytes_served  Int?
  ip_address    String?   @db.VarChar
  referer       String?
  crawled_at    DateTime? @default(now()) @db.Timestamp(6)
  contents      contents? @relation(fields: [content_id], references: [id], onUpdate: NoAction, map: "aeo_crawler_logs_content_id_contents_id_fk")
}

model aeo_performance_metrics {
  id             String        @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  date           DateTime      @db.Timestamp(6)
  platform       aeo_platform
  content_id     String?       @db.VarChar
  content_type   content_type?
  impressions    Int?          @default(0)
  citations      Int?          @default(0)
  click_throughs Int?          @default(0)
  conversions    Int?          @default(0)
  revenue        Int?          @default(0)
  avg_position   Int?
  top_queries    Json?         @default("[]")
  created_at     DateTime?     @default(now()) @db.Timestamp(6)
  contents       contents?     @relation(fields: [content_id], references: [id], onUpdate: NoAction, map: "aeo_performance_metrics_content_id_contents_id_fk")
}

model aeo_programmatic_content {
  id                    String             @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  format                aeo_content_format
  template_name         String             @db.VarChar
  template_pattern      String
  variables             Json?              @default("{}")
  generated_content_ids Json?              @default("[]")
  target_count          Int?               @default(0)
  generated_count       Int?               @default(0)
  is_active             Boolean?           @default(true)
  priority              Int?               @default(0)
  last_generated_at     DateTime?          @db.Timestamp(6)
  created_at            DateTime?          @default(now()) @db.Timestamp(6)
  updated_at            DateTime?          @default(now()) @db.Timestamp(6)
}

model aeo_schema_enhancements {
  id                String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id        String    @db.VarChar
  schema_type       String    @db.VarChar
  schema_data       Json
  is_active         Boolean?  @default(true)
  validation_status String?   @default("pending") @db.VarChar
  validation_errors Json?     @default("[]")
  last_validated_at DateTime? @db.Timestamp(6)
  created_at        DateTime? @default(now()) @db.Timestamp(6)
  updated_at        DateTime? @default(now()) @db.Timestamp(6)
  contents          contents  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "aeo_schema_enhancements_content_id_contents_id_fk")
}

model affiliate_clicks {
  id                 Int                 @id @default(autoincrement())
  attraction_id      String?             @db.VarChar
  destination        String?             @db.VarChar(100)
  clicked_at         DateTime?           @default(now()) @db.Timestamp(6)
  user_agent         String?
  referrer           String?
  session_id         String?             @db.VarChar(100)
  tiqets_attractions tiqets_attractions? @relation(fields: [attraction_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "affiliate_clicks_attraction_id_tiqets_attractions_id_fk")
}

model affiliate_links {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id String?   @db.VarChar
  provider   String
  product_id String?
  anchor     String
  url        String
  placement  String?
  created_at DateTime? @default(now()) @db.Timestamp(6)
  contents   contents? @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "affiliate_links_content_id_contents_id_fk")
}

model ai_audit_logs {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  prompt_hash   String    @db.VarChar(64)
  model         String    @db.VarChar(100)
  temperature   Int?
  input_tokens  Int?
  output_tokens Int?
  content_id    String?   @db.VarChar
  job_id        String?   @db.VarChar
  subsystem     String?   @db.VarChar(50)
  prompt        String?
  output        String?
  duration_ms   Int?
  created_at    DateTime? @default(now()) @db.Timestamp(6)
  expires_at    DateTime? @db.Timestamp(6)
}

model ai_cost_records {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  subsystem     String    @db.VarChar(50)
  model         String?   @db.VarChar(100)
  input_tokens  Int       @default(0)
  output_tokens Int       @default(0)
  cost_cents    Int       @default(0)
  content_id    String?   @db.VarChar
  job_id        String?   @db.VarChar
  created_at    DateTime? @default(now()) @db.Timestamp(6)
}

model ai_generated_images {
  id               String        @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  filename         String
  url              String
  topic            String
  category         String?
  image_type       String?
  source           image_source? @default(openai)
  prompt           String?
  keywords         Json?         @default("[]")
  alt_text         String?
  alt_text_he      String?
  caption          String?
  caption_he       String?
  ai_quality_score Int?
  user_rating      image_rating?
  width            Int?
  height           Int?
  size             Int?
  is_approved      Boolean?      @default(false)
  usage_count      Int?          @default(0)
  metadata         Json?         @default("{}")
  created_at       DateTime?     @default(now()) @db.Timestamp(6)
  updated_at       DateTime?     @default(now()) @db.Timestamp(6)
}

model ai_generation_logs {
  id                String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  target_type       String    @db.VarChar
  target_id         String    @db.VarChar
  provider          String    @db.VarChar
  model             String    @db.VarChar
  prompt            String?
  prompt_tokens     Int?
  completion_tokens Int?
  success           Boolean
  error             String?
  seo_score         Int?
  quality_tier      String?   @db.VarChar
  duration          Int?
  created_at        DateTime? @default(now()) @db.Timestamp(6)
}

model ai_writers {
  id                    String     @id @db.VarChar
  name                  String
  slug                  String     @unique(map: "ai_writers_slug_unique") @db.VarChar
  avatar                String?
  nationality           String?
  age                   Int?
  expertise             String[]
  personality           String?
  writing_style         String?
  voice_characteristics Json?      @default("[]")
  sample_phrases        String[]
  bio                   String?
  short_bio             String?
  social_media          Json?
  content_types         String[]
  languages             String[]
  is_active             Boolean?   @default(true)
  article_count         Int?       @default(0)
  created_at            DateTime?  @default(now()) @db.Timestamp(6)
  updated_at            DateTime?  @default(now()) @db.Timestamp(6)
  contents              contents[]
}

model analytics_events {
  id              String               @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  session_id      String               @db.VarChar
  visitor_id      String               @db.VarChar
  event_type      analytics_event_type
  event_name      String?              @db.VarChar
  timestamp       DateTime             @default(now()) @db.Timestamp(6)
  page_url        String?
  page_path       String?              @db.VarChar
  page_title      String?              @db.VarChar
  referrer        String?
  element_id      String?              @db.VarChar
  element_class   String?              @db.VarChar
  element_text    String?
  element_href    String?
  scroll_depth    Int?
  viewport_width  Int?
  viewport_height Int?
  click_x         Int?
  click_y         Int?
  time_on_page    Int?
  page_load_time  Int?
  is_new_session  Boolean?
  is_new_visitor  Boolean?
  user_agent      String?
  device_type     String?              @db.VarChar
  browser         String?              @db.VarChar
  os              String?              @db.VarChar
  language        String?              @db.VarChar
  country         String?              @db.VarChar
  city            String?              @db.VarChar
  content_id      String?              @db.VarChar
  content_type    String?              @db.VarChar
  content_title   String?              @db.VarChar
  utm_source      String?              @db.VarChar
  utm_medium      String?              @db.VarChar
  utm_campaign    String?              @db.VarChar
  utm_term        String?              @db.VarChar
  utm_content     String?              @db.VarChar
  metadata        Json?
}

model approval_requests {
  id             String           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  request_type   String           @db.VarChar(50)
  resource_type  String           @db.VarChar(50)
  resource_id    String           @db.VarChar(255)
  requester_id   String           @db.VarChar
  current_step   Int              @default(0)
  total_steps    Int              @default(1)
  status         String           @default("pending") @db.VarChar(20)
  priority       String           @default("normal") @db.VarChar(20)
  reason         String?
  metadata       Json?
  escalated_at   DateTime?        @db.Timestamp(6)
  expires_at     DateTime?        @db.Timestamp(6)
  created_at     DateTime?        @default(now()) @db.Timestamp(6)
  updated_at     DateTime?        @default(now()) @db.Timestamp(6)
  users          users            @relation(fields: [requester_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "approval_requests_requester_id_users_id_fk")
  approval_steps approval_steps[]
}

model approval_steps {
  id                String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  request_id        String            @db.VarChar
  step_number       Int
  approver_type     String            @db.VarChar(20)
  approver_id       String?           @db.VarChar
  approver_role     String?           @db.VarChar(50)
  status            String            @default("pending") @db.VarChar(20)
  decision          String?           @db.VarChar(20)
  decision_reason   String?
  decided_by        String?           @db.VarChar
  decided_at        DateTime?         @db.Timestamp(6)
  auto_approve_at   DateTime?         @db.Timestamp(6)
  created_at        DateTime?         @default(now()) @db.Timestamp(6)
  users             users?            @relation(fields: [decided_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "approval_steps_decided_by_users_id_fk")
  approval_requests approval_requests @relation(fields: [request_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "approval_steps_request_id_approval_requests_id_fk")
}

model articles {
  id                      String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id              String            @db.VarChar
  category                article_category?
  urgency_level           String?
  target_audience         Json?             @default("[]")
  personality             String?
  tone                    String?
  featured_image          String?
  featured_image_alt      String?
  excerpt                 String?
  publish_date            DateTime?         @db.Timestamp(6)
  source_rss_feed_id      String?           @db.VarChar
  source_url              String?
  quick_facts             Json?             @default("[]")
  pro_tips                Json?             @default("[]")
  warnings                Json?             @default("[]")
  faq                     Json?             @default("[]")
  related_destination_ids Json?             @default("[]")
  deleted_at              DateTime?         @db.Timestamp(6)
  created_at              DateTime?         @default(now()) @db.Timestamp(6)
  updated_at              DateTime?         @default(now()) @db.Timestamp(6)
  contents                contents          @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "articles_content_id_contents_id_fk")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model attraction_districts {
  attraction_id String      @db.VarChar
  district_id   String      @db.VarChar
  confidence    Int?
  source        String      @default("manual") @db.VarChar
  created_at    DateTime?   @default(now()) @db.Timestamp(6)
  attractions   attractions @relation(fields: [attraction_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "attraction_districts_attraction_id_attractions_id_fk")
  districts     districts   @relation(fields: [district_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "attraction_districts_district_id_districts_id_fk")

  @@ignore
}

model attractions {
  id                   String                 @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id           String                 @db.VarChar
  destination_id       String?                @db.VarChar
  location             String?
  category             String?
  price_from           String?
  duration             String?
  target_audience      Json?                  @default("[]")
  primary_cta          String?
  intro_text           String?
  expanded_intro_text  String?
  quick_info_bar       Json?                  @default("[]")
  highlights           Json?                  @default("[]")
  ticket_info          Json?                  @default("[]")
  essential_info       Json?                  @default("[]")
  visitor_tips         Json?                  @default("[]")
  gallery              Json?                  @default("[]")
  experience_steps     Json?                  @default("[]")
  insider_tips         Json?                  @default("[]")
  faq                  Json?                  @default("[]")
  related_attractions  Json?                  @default("[]")
  trust_signals        Json?                  @default("[]")
  deleted_at           DateTime?              @db.Timestamp(6)
  created_at           DateTime?              @default(now()) @db.Timestamp(6)
  updated_at           DateTime?              @default(now()) @db.Timestamp(6)
  attraction_districts attraction_districts[] @ignore
  contents             contents               @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "attractions_content_id_contents_id_fk")
}

model audit_logs {
  id           String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  timestamp    DateTime          @default(now()) @db.Timestamp(6)
  user_id      String?           @db.VarChar
  user_name    String?
  user_role    String?
  action_type  audit_action_type
  entity_type  audit_entity_type
  entity_id    String?           @db.VarChar
  description  String
  before_state Json?
  after_state  Json?
  ip_address   String?           @db.VarChar
  user_agent   String?
  users        users?            @relation(fields: [user_id], references: [id], onUpdate: NoAction, map: "audit_logs_user_id_users_id_fk")
}

model automated_sequences {
  id            String           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name          String           @db.VarChar
  trigger       sequence_trigger
  trigger_value String?          @db.VarChar
  emails        Json             @default("[]")
  is_active     Boolean          @default(true)
  created_at    DateTime?        @default(now()) @db.Timestamp(6)
  updated_at    DateTime?        @default(now()) @db.Timestamp(6)
}

model autonomy_budgets {
  id                String        @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  target_key        String        @db.VarChar
  period            budget_period
  period_start      DateTime      @db.Timestamp(6)
  period_end        DateTime      @db.Timestamp(6)
  actions_executed  Int           @default(0)
  actions_proposed  Int           @default(0)
  tokens_estimated  Int           @default(0)
  tokens_actual     Int           @default(0)
  writes_count      Int           @default(0)
  failures_count    Int           @default(0)
  content_mutations Int           @default(0)
  ai_spend_cents    Int           @default(0)
  created_at        DateTime      @default(now()) @db.Timestamp(6)
  updated_at        DateTime      @default(now()) @db.Timestamp(6)
}

model autonomy_decision_logs {
  id                String          @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  target_key        String          @db.VarChar
  action_type       String          @db.VarChar
  decision          policy_decision
  reasons           Json            @default("[]")
  matched_policy_id String?         @db.VarChar
  requester_id      String?         @db.VarChar
  metadata          Json?           @default("{}")
  created_at        DateTime        @default(now()) @db.Timestamp(6)
}

model autonomy_policies {
  id             String   @id @db.VarChar
  name           String   @db.VarChar
  description    String?
  target_type    String   @db.VarChar
  target_feature String?  @db.VarChar
  target_entity  String?  @db.VarChar
  target_locale  String?  @db.VarChar
  enabled        Boolean  @default(true)
  priority       Int      @default(0)
  config         Json
  created_by     String?  @db.VarChar
  created_at     DateTime @default(now()) @db.Timestamp(6)
  updated_at     DateTime @default(now()) @db.Timestamp(6)
}

model background_jobs {
  id           String     @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  type         job_type
  status       job_status @default(pending)
  data         Json       @default("{}")
  result       Json?
  error        String?
  retries      Int        @default(0)
  max_retries  Int        @default(3)
  priority     Int        @default(0)
  created_at   DateTime   @default(now()) @db.Timestamp(6)
  started_at   DateTime?  @db.Timestamp(6)
  completed_at DateTime?  @db.Timestamp(6)
}

model behavioral_triggers {
  id                String           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name              String           @db.VarChar
  description       String?
  event_type        String           @db.VarChar
  event_conditions  Json?            @default("{}")
  email_template_id String?          @db.VarChar
  email_subject     String           @db.VarChar
  email_content     String
  cooldown_hours    Int?             @default(24)
  is_active         Boolean?         @default(true)
  trigger_count     Int?             @default(0)
  created_by        String?          @db.VarChar
  created_at        DateTime?        @default(now()) @db.Timestamp(6)
  updated_at        DateTime?        @default(now()) @db.Timestamp(6)
  users             users?           @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "behavioral_triggers_created_by_users_id_fk")
  email_templates   email_templates? @relation(fields: [email_template_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "behavioral_triggers_email_template_id_email_templates_id_fk")
}

model business_listings {
  id            String          @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  business_name String          @db.VarChar
  business_type business_type
  contact_email String          @db.VarChar
  contact_phone String?         @db.VarChar
  website       String?         @db.VarChar
  content_ids   Json            @default("[]")
  tier          business_tier   @default(basic)
  status        business_status @default(pending)
  features      Json            @default("[]")
  monthly_price Int             @default(0)
  start_date    DateTime        @default(now()) @db.Timestamp(6)
  end_date      DateTime?       @db.Timestamp(6)
  impressions   Int             @default(0)
  clicks        Int             @default(0)
  leads         Int             @default(0)
  conversions   Int             @default(0)
  settings      Json            @default("{\"showEmail\": true, \"showPhone\": true, \"enableLeadForm\": true, \"featuredPlacement\": false, \"enableBookingWidget\": false}")
  created_at    DateTime?       @default(now()) @db.Timestamp(6)
  updated_at    DateTime?       @default(now()) @db.Timestamp(6)
  business_leads leads[]
}

model campaign_events {
  id                     String                  @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  campaign_id            String                  @db.VarChar
  subscriber_id          String?                 @db.VarChar
  event_type             email_event_type
  metadata               Json?
  ip_address             String?                 @db.VarChar
  user_agent             String?                 @db.VarChar
  created_at             DateTime?               @default(now()) @db.Timestamp(6)
  newsletter_campaigns   newsletter_campaigns    @relation(fields: [campaign_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "campaign_events_campaign_id_newsletter_campaigns_id_fk")
  newsletter_subscribers newsletter_subscribers? @relation(fields: [subscriber_id], references: [id], onUpdate: NoAction, map: "campaign_events_subscriber_id_newsletter_subscribers_id_fk")
}

model category_pages {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name             String    @db.VarChar(40)
  slug             String    @db.VarChar
  destination_id   String    @db.VarChar
  meta_title       String?   @db.VarChar(60)
  meta_description String?
  header_image     String?
  header_image_alt String?
  is_active        Boolean   @default(true)
  sort_order       Int?      @default(0)
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  updated_at       DateTime? @default(now()) @db.Timestamp(6)
}

model change_execution_logs {
  id                String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  execution_id      String            @db.VarChar
  level             String            @default("info") @db.VarChar(20)
  message           String
  data              Json?
  item_id           String?           @db.VarChar
  created_at        DateTime?         @default(now()) @db.Timestamp(6)
  change_executions change_executions @relation(fields: [execution_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "change_execution_logs_execution_id_change_executions_id_fk")
}

model change_execution_results {
  id                String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  execution_id      String            @db.VarChar
  summary           Json?
  impacts           Json?
  diffs             Json?
  guard_results     Json?
  created_at        DateTime?         @default(now()) @db.Timestamp(6)
  change_executions change_executions @relation(fields: [execution_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "change_execution_results_execution_id_change_executions_id_fk")
}

model change_executions {
  id                       String                     @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  plan_id                  String                     @db.VarChar
  kind                     change_execution_kind
  status                   change_execution_status    @default(queued)
  created_by_user_id       String?                    @db.VarChar
  batch_size               Int?                       @default(20)
  last_processed_index     Int?                       @default(0)
  total_items              Int?                       @default(0)
  success_count            Int?                       @default(0)
  failure_count            Int?                       @default(0)
  skip_count               Int?                       @default(0)
  error_summary            Json?
  started_at               DateTime?                  @db.Timestamp(6)
  finished_at              DateTime?                  @db.Timestamp(6)
  idempotency_key          String?                    @db.VarChar(64)
  created_at               DateTime?                  @default(now()) @db.Timestamp(6)
  change_execution_logs    change_execution_logs[]
  change_execution_results change_execution_results[]
  change_plans             change_plans               @relation(fields: [plan_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "change_executions_plan_id_change_plans_id_fk")
  change_locks             change_locks[]
}

model change_locks {
  target_key        String            @id @db.VarChar(255)
  execution_id      String            @db.VarChar
  locked_until      DateTime          @db.Timestamp(6)
  created_at        DateTime?         @default(now()) @db.Timestamp(6)
  change_executions change_executions @relation(fields: [execution_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "change_locks_execution_id_change_executions_id_fk")
}

model change_plan_items {
  id            String           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  plan_id       String           @db.VarChar
  type          change_item_type
  target_type   String           @db.VarChar(50)
  target_id     String           @db.VarChar(255)
  target_title  String?          @db.VarChar(500)
  field         String?          @db.VarChar(100)
  before_value  Json?
  after_value   Json?
  status        String?          @default("pending") @db.VarChar(20)
  applied_at    DateTime?        @db.Timestamp(6)
  rollback_data Json?
  error_message String?
  sort_order    Int?             @default(0)
  created_at    DateTime?        @default(now()) @db.Timestamp(6)
  change_plans  change_plans     @relation(fields: [plan_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "change_plan_items_plan_id_change_plans_id_fk")
}

model change_plans {
  id                   String              @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name                 String              @db.VarChar(255)
  description          String?
  scope                change_plan_scope   @default(content)
  status               change_plan_status  @default(draft)
  risk_level           String?             @default("low") @db.VarChar(20)
  created_by_user_id   String?             @db.VarChar
  submitted_by_user_id String?             @db.VarChar
  submitted_at         DateTime?           @db.Timestamp(6)
  approved_by_user_id  String?             @db.VarChar
  approved_at          DateTime?           @db.Timestamp(6)
  approval_notes       String?
  impact_summary       Json?
  idempotency_key      String?             @db.VarChar(64)
  created_at           DateTime?           @default(now()) @db.Timestamp(6)
  updated_at           DateTime?           @default(now()) @db.Timestamp(6)
  change_executions    change_executions[]
  change_plan_items    change_plan_items[]
}

model cluster_members {
  id               String           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  cluster_id       String           @db.VarChar
  content_id       String           @db.VarChar
  position         Int?             @default(0)
  created_at       DateTime?        @default(now()) @db.Timestamp(6)
  content_clusters content_clusters @relation(fields: [cluster_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "cluster_members_cluster_id_content_clusters_id_fk")
  contents         contents         @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "cluster_members_content_id_contents_id_fk")
}

model cms_translations {
  id          Int             @id @default(autoincrement())
  entity_type cms_entity_type
  entity_id   String          @db.VarChar(255)
  locale      String          @db.VarChar(10)
  field       String          @db.VarChar(100)
  value       String?
  created_at  DateTime?       @default(now()) @db.Timestamp(6)
  updated_at  DateTime?       @default(now()) @db.Timestamp(6)
}

model cohorts {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name           String    @db.VarChar
  description    String?
  cohort_type    String    @db.VarChar
  date_range     Json
  criteria       Json?     @default("{}")
  user_count     Int?      @default(0)
  retention_data Json?     @default("{}")
  created_by     String?   @db.VarChar
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  updated_at     DateTime? @default(now()) @db.Timestamp(6)
  users          users?    @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "cohorts_created_by_users_id_fk")
}

model comments {
  id                                String     @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id                        String     @db.VarChar
  parent_id                         String?    @db.VarChar
  author_id                         String     @db.VarChar
  body                              String
  mentions                          Json?      @default("[]")
  is_resolved                       Boolean?   @default(false)
  resolved_by                       String?    @db.VarChar
  resolved_at                       DateTime?  @db.Timestamp(6)
  edited_at                         DateTime?  @db.Timestamp(6)
  created_at                        DateTime?  @default(now()) @db.Timestamp(6)
  users_comments_author_idTousers   users      @relation("comments_author_idTousers", fields: [author_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "comments_author_id_users_id_fk")
  contents                          contents   @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "comments_content_id_contents_id_fk")
  comments                          comments?  @relation("commentsTocomments", fields: [parent_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "comments_parent_id_comments_id_fk")
  other_comments                    comments[] @relation("commentsTocomments")
  users_comments_resolved_byTousers users?     @relation("comments_resolved_byTousers", fields: [resolved_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "comments_resolved_by_users_id_fk")
}

model content_calendar_items {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id     String?   @db.VarChar
  title          String    @db.VarChar
  content_type   String    @db.VarChar
  scheduled_date DateTime  @db.Timestamp(6)
  status         String?   @default("scheduled") @db.VarChar
  ai_suggestion  Boolean?  @default(false)
  ai_reason      String?
  priority       Int?      @default(5)
  tags           Json?     @default("[]")
  notes          String?
  created_by     String?   @db.VarChar
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  updated_at     DateTime? @default(now()) @db.Timestamp(6)
  contents       contents? @relation(fields: [content_id], references: [id], onUpdate: NoAction, map: "content_calendar_items_content_id_contents_id_fk")
  users          users?    @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "content_calendar_items_created_by_users_id_fk")
}

model content_clusters {
  id                String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name              String
  slug              String            @unique(map: "content_clusters_slug_unique")
  description       String?
  pillar_content_id String?           @db.VarChar
  primary_keyword   String?
  color             String?           @db.VarChar
  created_at        DateTime?         @default(now()) @db.Timestamp(6)
  updated_at        DateTime?         @default(now()) @db.Timestamp(6)
  cluster_members   cluster_members[]
  contents          contents?         @relation(fields: [pillar_content_id], references: [id], onUpdate: NoAction, map: "content_clusters_pillar_content_id_contents_id_fk")
}

model content_confidence_scores {
  id                        String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id                String    @db.VarChar
  score                     Int       @default(50)
  label                     String    @default("medium") @db.VarChar(20)
  entity_verification_score Int?
  fact_consistency_score    Int?
  source_freshness_score    Int?
  hallucination_risk_score  Int?
  calculated_at             DateTime? @default(now()) @db.Timestamp(6)
  contents                  contents  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_confidence_scores_content_id_contents_id_fk")
}

model content_decay_scores {
  id                String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id        String    @db.VarChar
  decay_score       Int       @default(0)
  status            String    @default("stable") @db.VarChar(20)
  traffic_delta     Int?
  impressions_delta Int?
  freshness_score   Int?
  ice_score_delta   Int?
  calculated_at     DateTime? @default(now()) @db.Timestamp(6)
  contents          contents  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_decay_scores_content_id_contents_id_fk")
}

model content_dependencies {
  id                                                String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  source_id                                         String    @db.VarChar
  target_id                                         String    @db.VarChar
  dependency_type                                   String    @default("references") @db.VarChar(50)
  weight                                            Int       @default(1)
  created_at                                        DateTime? @default(now()) @db.Timestamp(6)
  contents_content_dependencies_source_idTocontents contents  @relation("content_dependencies_source_idTocontents", fields: [source_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_dependencies_source_id_contents_id_fk")
  contents_content_dependencies_target_idTocontents contents  @relation("content_dependencies_target_idTocontents", fields: [target_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_dependencies_target_id_contents_id_fk")
}

model content_fingerprints {
  id           String     @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id   String?    @db.VarChar
  fingerprint  String     @unique(map: "content_fingerprints_fingerprint_unique")
  source_url   String?
  source_title String?
  rss_feed_id  String?    @db.VarChar
  created_at   DateTime?  @default(now()) @db.Timestamp(6)
  contents     contents?  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_fingerprints_content_id_contents_id_fk")
  rss_feeds    rss_feeds? @relation(fields: [rss_feed_id], references: [id], onUpdate: NoAction, map: "content_fingerprints_rss_feed_id_rss_feeds_id_fk")
}

model content_highlight_translations {
  id                   String             @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  highlight_id         String             @db.VarChar
  locale               String             @db.VarChar
  text                 String
  translated_at        DateTime?          @db.Timestamp(6)
  translation_provider String?            @db.VarChar
  content_highlights   content_highlights @relation(fields: [highlight_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_highlight_translations_highlight_id_content_highlights_")
}

model content_highlights {
  id                             String                           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id                     String                           @db.VarChar
  highlight_key                  String                           @db.VarChar
  text_en                        String
  icon                           String?                          @db.VarChar
  sort_order                     Int                              @default(0)
  is_active                      Boolean                          @default(true)
  created_at                     DateTime?                        @default(now()) @db.Timestamp(6)
  updated_at                     DateTime?                        @default(now()) @db.Timestamp(6)
  content_highlight_translations content_highlight_translations[]
  contents                       contents                         @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_highlights_content_id_contents_id_fk")
}

model content_localizations {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  entity_type      String    @db.VarChar(50)
  entity_id        String    @db.VarChar(255)
  locale           String    @db.VarChar(10)
  title            String
  slug             String    @db.VarChar(500)
  meta_title       String?
  meta_description String?
  content_sections Json?     @default("{}")
  faq              Json?     @default("[]")
  created_at       DateTime? @default(now()) @db.Timestamptz(6)
  updated_at       DateTime? @default(now()) @db.Timestamptz(6)

  @@unique([entity_type, entity_id, locale])
  @@index([entity_type, entity_id, locale], map: "idx_content_loc_entity")
  @@index([locale], map: "idx_content_loc_locale")
}

model content_locks {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id String    @db.VarChar
  user_id    String    @db.VarChar
  locked_at  DateTime? @default(now()) @db.Timestamp(6)
  expires_at DateTime  @db.Timestamp(6)
  is_active  Boolean?  @default(true)
  contents   contents  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_locks_content_id_contents_id_fk")
  users      users     @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_locks_user_id_users_id_fk")
}

model content_purchases {
  id             String          @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  user_id        String          @db.VarChar
  content_id     String          @db.VarChar
  amount         Int
  currency       String          @default("USD") @db.VarChar
  payment_method String          @db.VarChar
  payment_id     String?         @db.VarChar
  status         purchase_status @default(pending)
  created_at     DateTime        @default(now()) @db.Timestamp(6)
  expires_at     DateTime?       @db.Timestamp(6)
}

model content_repair_jobs {
  id                String                @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id        String                @db.VarChar
  repair_type       String                @db.VarChar(50)
  status            content_repair_status @default(pending)
  is_dry_run        Boolean               @default(true)
  simulation_result Json?
  execution_result  Json?
  error             String?
  created_at        DateTime?             @default(now()) @db.Timestamp(6)
  completed_at      DateTime?             @db.Timestamp(6)
  contents          contents              @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_repair_jobs_content_id_contents_id_fk")
}

model content_rules {
  id                     String        @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name                   String        @unique(map: "content_rules_name_unique") @db.VarChar
  description            String?
  is_active              Boolean       @default(true)
  min_words              Int           @default(1800)
  max_words              Int           @default(3500)
  optimal_min_words      Int           @default(2000)
  optimal_max_words      Int           @default(2500)
  intro_min_words        Int           @default(150)
  intro_max_words        Int           @default(200)
  quick_facts_min        Int           @default(5)
  quick_facts_max        Int           @default(8)
  quick_facts_words_min  Int           @default(80)
  quick_facts_words_max  Int           @default(120)
  main_sections_min      Int           @default(4)
  main_sections_max      Int           @default(6)
  main_section_words_min Int           @default(200)
  main_section_words_max Int           @default(300)
  faqs_min               Int           @default(6)
  faqs_max               Int           @default(10)
  faq_answer_words_min   Int           @default(50)
  faq_answer_words_max   Int           @default(100)
  pro_tips_min           Int           @default(5)
  pro_tips_max           Int           @default(8)
  pro_tip_words_min      Int           @default(20)
  pro_tip_words_max      Int           @default(35)
  conclusion_min_words   Int           @default(100)
  conclusion_max_words   Int           @default(150)
  internal_links_min     Int           @default(5)
  internal_links_max     Int           @default(10)
  keyword_density_min    Int           @default(1)
  keyword_density_max    Int           @default(3)
  dubai_mentions_min     Int           @default(5)
  max_retries            Int           @default(3)
  content_type           content_type?
  created_by             String?       @db.VarChar
  created_at             DateTime?     @default(now()) @db.Timestamp(6)
  updated_at             DateTime?     @default(now()) @db.Timestamp(6)
  users                  users?        @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "content_rules_created_by_users_id_fk")
}

model content_scores {
  id                String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id        String?   @db.VarChar
  overall_score     Int?
  readability_score Int?
  seo_score         Int?
  engagement_score  Int?
  originality_score Int?
  structure_score   Int?
  feedback          Json?     @default("[]")
  suggestions       Json?     @default("[]")
  analysis          Json?
  created_at        DateTime? @default(now()) @db.Timestamp(6)
  contents          contents? @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_scores_content_id_contents_id_fk")
}

model content_suggestions {
  id                   String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  research_id          String            @db.VarChar
  suggested_title      String            @db.VarChar
  suggested_slug       String?           @db.VarChar
  content_type         content_type
  category             String?           @db.VarChar
  destination_city     String?           @db.VarChar
  destination_id       String?           @db.VarChar
  summary              String?
  key_points           Json?
  keywords             Json?
  source_excerpt       String?
  priority             Int?              @default(50)
  confidence           Int?              @default(80)
  is_duplicate         Boolean?          @default(false)
  duplicate_of_id      String?           @db.VarChar
  status               suggestion_status @default(pending)
  generated_content_id String?           @db.VarChar
  rejection_reason     String?
  created_at           DateTime?         @default(now()) @db.Timestamp(6)
  updated_at           DateTime?         @default(now()) @db.Timestamp(6)
  research_uploads     research_uploads  @relation(fields: [research_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_suggestions_research_id_research_uploads_id_fk")
}

model content_tags {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id String    @db.VarChar
  tag_id     String    @db.VarChar
  created_at DateTime? @default(now()) @db.Timestamp(6)
  contents   contents  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_tags_content_id_contents_id_fk")
  tags       tags      @relation(fields: [tag_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_tags_tag_id_tags_id_fk")
}

model content_templates {
  id                 String       @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name               String
  description        String?
  content_type       content_type
  blocks             Json?        @default("[]")
  extension_defaults Json?
  seo_defaults       Json?
  is_public          Boolean?     @default(false)
  usage_count        Int?         @default(0)
  created_by         String?      @db.VarChar
  created_at         DateTime?    @default(now()) @db.Timestamp(6)
  updated_at         DateTime?    @default(now()) @db.Timestamp(6)
  users              users?       @relation(fields: [created_by], references: [id], onUpdate: NoAction, map: "content_templates_created_by_users_id_fk")
}

model content_timeline_events {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id String    @db.VarChar
  event_type String    @db.VarChar(50)
  event_data Json?
  actor_id   String?   @db.VarChar
  actor_type String?   @db.VarChar(20)
  created_at DateTime? @default(now()) @db.Timestamp(6)
  contents   contents  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_timeline_events_content_id_contents_id_fk")
}

model content_versions {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id       String    @db.VarChar
  version_number   Int
  title            String
  slug             String?
  meta_title       String?
  meta_description String?
  primary_keyword  String?
  hero_image       String?
  hero_image_alt   String?
  blocks           Json?     @default("[]")
  changed_by       String?   @db.VarChar
  change_note      String?
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  contents         contents  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_versions_content_id_contents_id_fk")
}

model content_views {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id String    @db.VarChar
  viewed_at  DateTime? @default(now()) @db.Timestamp(6)
  user_agent String?
  referrer   String?
  session_id String?   @db.VarChar
  country    String?   @db.VarChar
  city       String?   @db.VarChar
  contents   contents  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "content_views_content_id_contents_id_fk")

  @@index([content_id], map: "idx_content_views_content_id")
}

model contents {
  id                                                            String                      @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  type                                                          content_type
  status                                                        content_status              @default(draft)
  title                                                         String
  slug                                                          String                      @unique(map: "contents_slug_unique")
  meta_title                                                    String?
  meta_description                                              String?
  primary_keyword                                               String?
  secondary_keywords                                            Json?                       @default("[]")
  lsi_keywords                                                  Json?                       @default("[]")
  hero_image                                                    String?
  hero_image_alt                                                String?
  card_image                                                    String?
  card_image_alt                                                String?
  summary                                                       String?
  blocks                                                        Json?                       @default("[]")
  seo_schema                                                    Json?
  seo_score                                                     Int?
  answer_capsule                                                String?
  aeo_score                                                     Int?
  word_count                                                    Int?                        @default(0)
  view_count                                                    Int?                        @default(0)
  author_id                                                     String?                     @db.VarChar
  writer_id                                                     String?                     @db.VarChar
  generated_by_ai                                               Boolean?                    @default(false)
  writer_voice_score                                            Int?
  intent                                                        content_intent?
  parent_id                                                     String?                     @db.VarChar
  canonical_content_id                                          String?                     @db.VarChar
  octopus_job_id                                                String?                     @db.VarChar
  source_hash                                                   String?                     @db.VarChar
  approved_by                                                   String?                     @db.VarChar
  approved_at                                                   DateTime?                   @db.Timestamp(6)
  scheduled_at                                                  DateTime?                   @db.Timestamp(6)
  published_at                                                  DateTime?                   @db.Timestamp(6)
  deleted_at                                                    DateTime?                   @db.Timestamp(6)
  created_at                                                    DateTime?                   @default(now()) @db.Timestamp(6)
  updated_at                                                    DateTime?                   @default(now()) @db.Timestamp(6)
  aeo_ab_tests                                                  aeo_ab_tests[]
  aeo_answer_capsules                                           aeo_answer_capsules[]
  aeo_citations                                                 aeo_citations[]
  aeo_crawler_logs                                              aeo_crawler_logs[]
  aeo_performance_metrics                                       aeo_performance_metrics[]
  aeo_schema_enhancements                                       aeo_schema_enhancements[]
  affiliate_links                                               affiliate_links[]
  articles                                                      articles[]
  attractions                                                   attractions[]
  cluster_members                                               cluster_members[]
  comments                                                      comments[]
  content_calendar_items                                        content_calendar_items[]
  content_clusters                                              content_clusters[]
  content_confidence_scores                                     content_confidence_scores[]
  content_decay_scores                                          content_decay_scores[]
  content_dependencies_content_dependencies_source_idTocontents content_dependencies[]      @relation("content_dependencies_source_idTocontents")
  content_dependencies_content_dependencies_target_idTocontents content_dependencies[]      @relation("content_dependencies_target_idTocontents")
  content_fingerprints                                          content_fingerprints[]
  content_highlights                                            content_highlights[]
  content_locks                                                 content_locks[]
  content_repair_jobs                                           content_repair_jobs[]
  content_scores                                                content_scores[]
  content_tags                                                  content_tags[]
  content_timeline_events                                       content_timeline_events[]
  content_versions                                              content_versions[]
  content_views                                                 content_views[]
  users                                                         users?                      @relation(fields: [author_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "contents_author_id_users_id_fk")
  ai_writers                                                    ai_writers?                 @relation(fields: [writer_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "contents_writer_id_ai_writers_id_fk")
  dining                                                        dining[]
  districts                                                     districts[]
  events                                                        events[]
  homepage_promotions                                           homepage_promotions[]
  hotels                                                        hotels[]
  internal_links_internal_links_source_content_idTocontents     internal_links[]            @relation("internal_links_source_content_idTocontents")
  internal_links_internal_links_target_content_idTocontents     internal_links[]            @relation("internal_links_target_content_idTocontents")
  itineraries                                                   itineraries[]
  media_assets                                                  media_assets[]
  media_recommendations                                         media_recommendations[]
  octopus_job_artifacts                                         octopus_job_artifacts[]
  rss_feed_items                                                rss_feed_items[]

  @@index([author_id], map: "idx_contents_author_id")
  @@index([created_at], map: "idx_contents_created_at")
  @@index([status], map: "idx_contents_status")
}

model conversion_funnels {
  id                String          @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name              String          @db.VarChar
  description       String?
  is_active         Boolean?        @default(true)
  total_entries     Int?            @default(0)
  total_conversions Int?            @default(0)
  conversion_rate   Int?            @default(0)
  created_by        String?         @db.VarChar
  created_at        DateTime?       @default(now()) @db.Timestamp(6)
  updated_at        DateTime?       @default(now()) @db.Timestamp(6)
  users             users?          @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "conversion_funnels_created_by_users_id_fk")
  funnel_events     funnel_events[]
  funnel_steps      funnel_steps[]
}

model custom_reports {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name          String    @db.VarChar
  description   String?
  report_type   String    @db.VarChar
  metrics       Json      @default("[]")
  dimensions    Json      @default("[]")
  filters       Json?     @default("{}")
  date_range    Json
  visualization Json
  is_public     Boolean?  @default(false)
  created_by    String?   @db.VarChar
  created_at    DateTime? @default(now()) @db.Timestamp(6)
  updated_at    DateTime? @default(now()) @db.Timestamp(6)
  users         users?    @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "custom_reports_created_by_users_id_fk")
}

model dashboard_configurations {
  id                 String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  user_id            String?   @db.VarChar
  role               String    @db.VarChar
  name               String    @db.VarChar
  description        String?
  is_default         Boolean?  @default(false)
  widgets            Json?     @default("[]")
  refresh_interval   Int?      @default(300)
  default_date_range String?   @default("7d") @db.VarChar
  created_at         DateTime? @default(now()) @db.Timestamp(6)
  updated_at         DateTime? @default(now()) @db.Timestamp(6)
  users              users?    @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "dashboard_configurations_user_id_users_id_fk")
}

model data_exports {
  id                      String                   @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name                    String                   @db.VarChar
  destination             String                   @db.VarChar
  connection_id           String?                  @db.VarChar
  data_source             String                   @db.VarChar
  schedule                String                   @db.VarChar
  schedule_config         Json?                    @default("{}")
  schema_mapping          Json                     @default("{}")
  is_incremental          Boolean?                 @default(true)
  last_export_at          DateTime?                @db.Timestamp(6)
  next_export_at          DateTime                 @db.Timestamp(6)
  last_export_status      String?                  @db.VarChar
  last_export_error       String?
  export_count            Int?                     @default(0)
  records_exported        Int?                     @default(0)
  is_active               Boolean?                 @default(true)
  created_by              String?                  @db.VarChar
  created_at              DateTime?                @default(now()) @db.Timestamp(6)
  updated_at              DateTime?                @default(now()) @db.Timestamp(6)
  integration_connections integration_connections? @relation(fields: [connection_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "data_exports_connection_id_integration_connections_id_fk")
  users                   users?                   @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "data_exports_created_by_users_id_fk")
}

model destination_content {
  id              String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  destination_id  String    @db.VarChar
  content_type    String    @db.VarChar
  content         Json
  seo_validation  Json?
  quality_score   Int?      @default(0)
  quality_tier    String?   @db.VarChar
  generated_by    String?   @db.VarChar
  generated_model String?   @db.VarChar
  version         Int       @default(1)
  is_active       Boolean   @default(true)
  created_at      DateTime? @default(now()) @db.Timestamp(6)
  updated_at      DateTime? @default(now()) @db.Timestamp(6)

  @@index([destination_id], map: "idx_destination_content_destination_id")
}

model destination_events {
  id             String                   @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  destination_id String                   @db.VarChar
  name           String
  description    String?
  translations   Json?                    @default("{}")
  event_type     destination_event_type
  venue          String?
  venue_address  String?
  start_date     DateTime                 @db.Timestamp(6)
  end_date       DateTime?                @db.Timestamp(6)
  ticket_url     String?
  image_url      String?
  price_range    Json?
  tags           String[]
  status         destination_event_status @default(upcoming)
  featured       Boolean?                 @default(false)
  created_at     DateTime?                @default(now()) @db.Timestamp(6)
  updated_at     DateTime?                @default(now()) @db.Timestamp(6)
}

model destinations {
  id           Int           @id @default(autoincrement())
  name         String        @db.VarChar(255)
  country      String        @db.VarChar(255)
  continent    String?       @db.VarChar(100)
  image        String?       @db.VarChar(500)
  rating       Decimal?      @default(4.5) @db.Decimal(2, 1)
  reviews      Int?          @default(0)
  trending     Boolean?      @default(false)
  description  String?
  status       String?       @default("published") @db.VarChar(50)
  created_at   DateTime?     @default(now()) @db.Timestamp(6)
  updated_at   DateTime?     @default(now()) @db.Timestamp(6)
  slug         String?       @unique @db.VarChar(255)
  country_slug String?       @db.VarChar(255)
  restaurants  restaurants[]
}

model destinations_index_config {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  hero_slides      Json?     @default("[]")
  hero_title       String?
  hero_subtitle    String?
  hero_description String?
  hero_cta_text    String?
  hero_cta_link    String?
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  updated_at       DateTime? @default(now()) @db.Timestamp(6)
}

model detected_anomalies {
  id               String           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  metric_id        String           @db.VarChar
  entity_type      String           @db.VarChar
  entity_id        String?          @db.VarChar
  anomaly_type     anomaly_type
  detection_method String           @db.VarChar
  severity         anomaly_severity
  title            String           @db.VarChar
  description      String
  current_value    Int
  expected_value   Int
  deviation        Int
  zscore           Int?
  stats            Json?
  recommendation   String?
  window_start     DateTime         @db.Timestamp(6)
  window_end       DateTime         @db.Timestamp(6)
  acknowledged     Boolean?         @default(false)
  acknowledged_by  String?          @db.VarChar
  acknowledged_at  DateTime?        @db.Timestamp(6)
  detected_at      DateTime?        @default(now()) @db.Timestamp(6)
}

model dining {
  id              String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id      String    @db.VarChar
  destination_id  String?   @db.VarChar
  location        String?
  cuisine_type    String?
  price_range     String?
  target_audience Json?     @default("[]")
  primary_cta     String?
  quick_info_bar  Json?     @default("[]")
  highlights      Json?     @default("[]")
  menu_highlights Json?     @default("[]")
  essential_info  Json?     @default("[]")
  dining_tips     Json?     @default("[]")
  faq             Json?     @default("[]")
  related_dining  Json?     @default("[]")
  photo_gallery   Json?     @default("[]")
  trust_signals   Json?     @default("[]")
  deleted_at      DateTime? @db.Timestamp(6)
  created_at      DateTime? @default(now()) @db.Timestamp(6)
  updated_at      DateTime? @default(now()) @db.Timestamp(6)
  contents        contents  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "dining_content_id_contents_id_fk")
}

model districts {
  id                   String                 @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id           String                 @db.VarChar
  destination_id       String?                @db.VarChar
  location             String?
  neighborhood         String?
  subcategory          String?
  target_audience      Json?                  @default("[]")
  primary_cta          String?
  intro_text           String?
  expanded_intro_text  String?
  quick_info_bar       Json?                  @default("[]")
  highlights           Json?                  @default("[]")
  things_to_do         Json?                  @default("[]")
  attractions_grid     Json?                  @default("[]")
  dining_highlights    Json?                  @default("[]")
  real_estate_info     Json?
  essential_info       Json?                  @default("[]")
  local_tips           Json?                  @default("[]")
  faq                  Json?                  @default("[]")
  related_districts    Json?                  @default("[]")
  photo_gallery        Json?                  @default("[]")
  trust_signals        Json?                  @default("[]")
  deleted_at           DateTime?              @db.Timestamp(6)
  created_at           DateTime?              @default(now()) @db.Timestamp(6)
  updated_at           DateTime?              @default(now()) @db.Timestamp(6)
  attraction_districts attraction_districts[] @ignore
  contents             contents               @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "districts_content_id_contents_id_fk")
  hotel_districts      hotel_districts[]      @ignore
}

model drip_campaign_enrollments {
  id                     String                 @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  campaign_id            String                 @db.VarChar
  subscriber_id          String                 @db.VarChar
  current_step           Int?                   @default(0)
  status                 String?                @default("active") @db.VarChar
  enrolled_at            DateTime?              @default(now()) @db.Timestamp(6)
  completed_at           DateTime?              @db.Timestamp(6)
  next_email_at          DateTime?              @db.Timestamp(6)
  metadata               Json?                  @default("{}")
  drip_campaigns         drip_campaigns         @relation(fields: [campaign_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "drip_campaign_enrollments_campaign_id_drip_campaigns_id_fk")
  newsletter_subscribers newsletter_subscribers @relation(fields: [subscriber_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "drip_campaign_enrollments_subscriber_id_newsletter_subscribers_")
}

model drip_campaign_steps {
  id                 String         @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  campaign_id        String         @db.VarChar
  step_number        Int
  delay_amount       Int
  delay_unit         String         @default("days") @db.VarChar
  subject            String         @db.VarChar
  html_content       String
  plain_text_content String?
  skip_conditions    Json?          @default("[]")
  exit_conditions    Json?          @default("[]")
  created_at         DateTime?      @default(now()) @db.Timestamp(6)
  drip_campaigns     drip_campaigns @relation(fields: [campaign_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "drip_campaign_steps_campaign_id_drip_campaigns_id_fk")
}

model drip_campaigns {
  id                        String                      @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name                      String                      @db.VarChar
  description               String?
  trigger_type              String                      @db.VarChar
  trigger_value             String?                     @db.VarChar
  is_active                 Boolean?                    @default(true)
  enrollment_count          Int?                        @default(0)
  created_by                String?                     @db.VarChar
  created_at                DateTime?                   @default(now()) @db.Timestamp(6)
  updated_at                DateTime?                   @default(now()) @db.Timestamp(6)
  drip_campaign_enrollments drip_campaign_enrollments[]
  drip_campaign_steps       drip_campaign_steps[]
  users                     users?                      @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "drip_campaigns_created_by_users_id_fk")
}

model editable_pages {
  id                  String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  slug                String    @unique(map: "editable_pages_slug_unique") @db.VarChar(255)
  page_type           String    @db.VarChar(50)
  title               String
  title_he            String?
  meta_title          String?
  meta_title_he       String?
  meta_description    String?
  meta_description_he String?
  is_published        Boolean?  @default(false)
  published_at        DateTime? @db.Timestamp(6)
  created_at          DateTime? @default(now()) @db.Timestamp(6)
  updated_at          DateTime? @default(now()) @db.Timestamp(6)
  last_edited_by      String?   @db.VarChar
  users               users?    @relation(fields: [last_edited_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "editable_pages_last_edited_by_users_id_fk")
}

model email_otp_codes {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  email      String    @db.VarChar
  code_hash  String    @db.VarChar
  attempts   Int       @default(0)
  expires_at DateTime  @db.Timestamp(6)
  created_at DateTime? @default(now()) @db.Timestamp(6)

  @@index([email], map: "idx_email_otp_codes_email")
}

model email_template_blocks {
  id              String          @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  template_id     String          @db.VarChar
  type            String          @db.VarChar
  order           Int             @default(0)
  content         Json?           @default("{}")
  styles          Json?           @default("{}")
  created_at      DateTime?       @default(now()) @db.Timestamp(6)
  email_templates email_templates @relation(fields: [template_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "email_template_blocks_template_id_email_templates_id_fk")
}

model email_templates {
  id                    String                  @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name                  String                  @db.VarChar
  description           String?
  subject               String?                 @db.VarChar
  html_content          String?
  plain_text_content    String?
  category              String?                 @default("general") @db.VarChar
  thumbnail_url         String?
  variables             Json?                   @default("[]")
  is_prebuilt           Boolean?                @default(false)
  usage_count           Int?                    @default(0)
  created_by            String?                 @db.VarChar
  created_at            DateTime?               @default(now()) @db.Timestamp(6)
  updated_at            DateTime?               @default(now()) @db.Timestamp(6)
  behavioral_triggers   behavioral_triggers[]
  email_template_blocks email_template_blocks[]
  users                 users?                  @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "email_templates_created_by_users_id_fk")
}

model entity_placements {
  id             String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  entity_type    String            @db.VarChar
  entity_id      String            @db.VarChar
  surface        placement_surface
  destination_id String?           @db.VarChar
  district_id    String?           @db.VarChar
  priority       Int?              @default(0)
  is_active      Boolean?          @default(true)
  reason         String?
  expires_at     DateTime?         @db.Timestamp(6)
  created_at     DateTime?         @default(now()) @db.Timestamp(6)
  updated_at     DateTime?         @default(now()) @db.Timestamp(6)
}

model entity_tags {
  id              String          @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  entity_type     String          @db.VarChar
  entity_id       String          @db.VarChar
  tag_id          String          @db.VarChar
  confidence      Int?            @default(100)
  source          tag_source      @default(manual)
  reasoning       String?
  created_at      DateTime?       @default(now()) @db.Timestamp(6)
  tag_definitions tag_definitions @relation(fields: [tag_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "entity_tags_tag_id_tag_definitions_id_fk")
}

model events {
  id                 String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id         String    @db.VarChar
  event_date         DateTime? @db.Timestamp(6)
  end_date           DateTime? @db.Timestamp(6)
  venue              String?
  venue_address      String?
  ticket_url         String?
  ticket_price       String?
  is_featured        Boolean?  @default(false)
  is_recurring       Boolean?  @default(false)
  recurrence_pattern String?
  target_audience    Json?     @default("[]")
  organizer          String?
  contact_email      String?
  faq                Json?     @default("[]")
  deleted_at         DateTime? @db.Timestamp(6)
  created_at         DateTime? @default(now()) @db.Timestamp(6)
  updated_at         DateTime? @default(now()) @db.Timestamp(6)
  contents           contents  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "events_content_id_contents_id_fk")
}

model experience_categories {
  id             Int       @id @default(autoincrement())
  name           String?   @db.VarChar(255)
  name_he        String?
  description    String?
  description_he String?
  slug           String?   @db.VarChar(255)
  image          String?
  image_alt      String?
  icon           String?   @db.VarChar(50)
  href           String?   @db.VarChar(255)
  sort_order     Int?      @default(0)
  is_active      Boolean?  @default(true)
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  updated_at     DateTime? @default(now()) @db.Timestamp(6)
}

model footer_links {
  id              String          @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  section_id      String          @db.VarChar
  label           String
  label_he        String?
  href            String
  icon            String?
  open_in_new_tab Boolean?        @default(false)
  sort_order      Int?            @default(0)
  is_active       Boolean?        @default(true)
  created_at      DateTime?       @default(now()) @db.Timestamp(6)
  footer_sections footer_sections @relation(fields: [section_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "footer_links_section_id_footer_sections_id_fk")
}

model footer_sections {
  id           String         @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  title        String
  title_he     String?
  slug         String         @unique(map: "footer_sections_slug_unique") @db.VarChar
  sort_order   Int?           @default(0)
  is_active    Boolean?       @default(true)
  created_at   DateTime?      @default(now()) @db.Timestamp(6)
  updated_at   DateTime?      @default(now()) @db.Timestamp(6)
  footer_links footer_links[]
}

model funnel_events {
  id                 String             @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  funnel_id          String             @db.VarChar
  session_id         String             @db.VarChar
  visitor_id         String             @db.VarChar
  current_step       Int
  completed          Boolean?           @default(false)
  dropped_at_step    Int?
  started_at         DateTime?          @default(now()) @db.Timestamp(6)
  completed_at       DateTime?          @db.Timestamp(6)
  metadata           Json?              @default("{}")
  conversion_funnels conversion_funnels @relation(fields: [funnel_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "funnel_events_funnel_id_conversion_funnels_id_fk")
}

model funnel_steps {
  id                 String             @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  funnel_id          String             @db.VarChar
  step_number        Int
  name               String             @db.VarChar
  match_type         String?            @default("url") @db.VarChar
  match_value        String             @db.VarChar
  entry_count        Int?               @default(0)
  exit_count         Int?               @default(0)
  conversion_count   Int?               @default(0)
  dropoff_rate       Int?               @default(0)
  created_at         DateTime?          @default(now()) @db.Timestamp(6)
  conversion_funnels conversion_funnels @relation(fields: [funnel_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "funnel_steps_funnel_id_conversion_funnels_id_fk")
}

model governance_audit_logs {
  id              String   @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  user_id         String?  @db.VarChar
  user_role       String?  @db.VarChar(50)
  action          String   @db.VarChar(100)
  resource        String   @db.VarChar(100)
  resource_id     String?  @db.VarChar(255)
  before_snapshot String?
  after_snapshot  String?
  snapshot_hash   String?  @db.VarChar(64)
  source          String   @default("api") @db.VarChar(50)
  ip_address      String?  @db.VarChar(45)
  user_agent      String?
  session_id      String?  @db.VarChar(255)
  metadata        Json?
  created_at      DateTime @default(now()) @db.Timestamp(6)
  users           users?   @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "governance_audit_logs_user_id_users_id_fk")
}

model governance_permissions {
  id               String           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  role_id          String           @db.VarChar
  action           String           @db.VarChar(50)
  resource         String           @db.VarChar(50)
  scope            String           @default("global") @db.VarChar(50)
  scope_value      String?          @db.VarChar(255)
  is_allowed       Boolean          @default(true)
  conditions       Json?
  created_at       DateTime?        @default(now()) @db.Timestamp(6)
  governance_roles governance_roles @relation(fields: [role_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "governance_permissions_role_id_governance_roles_id_fk")
}

model governance_policies {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name        String    @unique(map: "governance_policies_name_unique") @db.VarChar(100)
  description String?
  policy_type String    @db.VarChar(50)
  effect      String    @default("block") @db.VarChar(10)
  priority    Int       @default(100)
  conditions  Json
  actions     Json?     @default("[]")
  resources   Json?     @default("[]")
  roles       Json?     @default("[]")
  message     String?
  is_active   Boolean   @default(true)
  created_by  String?   @db.VarChar
  created_at  DateTime? @default(now()) @db.Timestamp(6)
  updated_at  DateTime? @default(now()) @db.Timestamp(6)
  users       users?    @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "governance_policies_created_by_users_id_fk")
}

model governance_roles {
  id                     String                   @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name                   String                   @unique(map: "governance_roles_name_unique") @db.VarChar(50)
  display_name           String                   @db.VarChar(100)
  description            String?
  priority               Int                      @default(0)
  is_system              Boolean                  @default(false)
  is_active              Boolean                  @default(true)
  created_at             DateTime?                @default(now()) @db.Timestamp(6)
  updated_at             DateTime?                @default(now()) @db.Timestamp(6)
  governance_permissions governance_permissions[]
}

model growth_opportunities {
  id                String               @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  category          opportunity_category
  priority          String               @db.VarChar
  status            opportunity_status   @default(new)
  title             String               @db.VarChar
  description       String
  rationale         String
  estimated_impact  Json?
  effort            String               @db.VarChar
  estimated_hours   Int?
  suggested_actions Json?                @default("[]")
  automatable       Boolean?             @default(false)
  automation_id     String?              @db.VarChar
  affected_entities Json?                @default("[]")
  related_metrics   Json?                @default("[]")
  score             Int                  @default(0)
  expires_at        DateTime?            @db.Timestamp(6)
  completed_at      DateTime?            @db.Timestamp(6)
  created_at        DateTime?            @default(now()) @db.Timestamp(6)
  updated_at        DateTime?            @default(now()) @db.Timestamp(6)
}

model growth_recommendations {
  id                  String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  recommendation_type String    @db.VarChar(50)
  title               String
  description         String?
  priority            Int       @default(50)
  effort_score        Int?
  impact_score        Int?
  source_data         Json?
  status              String    @default("pending") @db.VarChar(20)
  content_id          String?   @db.VarChar
  week_of             DateTime  @db.Timestamp(6)
  created_at          DateTime? @default(now()) @db.Timestamp(6)
}

model guides {
  id               Int       @id @default(autoincrement())
  title            String    @db.VarChar(255)
  slug             String    @unique @db.VarChar(255)
  excerpt          String?
  content          String?
  image            String?   @db.VarChar(500)
  author           String?   @db.VarChar(255)
  avatar           String?   @db.VarChar(10)
  date             String?   @db.VarChar(50)
  read_time        String?   @db.VarChar(20)
  views            String?   @db.VarChar(20)
  category         String?   @db.VarChar(100)
  destination_id   String?   @db.VarChar(100)
  featured         Boolean?  @default(false)
  meta_title       String?   @db.VarChar(500)
  meta_description String?
  focus_keyword    String?   @db.VarChar(255)
  published_at     DateTime? @default(now()) @db.Timestamp(6)
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  updated_at       DateTime? @default(now()) @db.Timestamp(6)

  @@index([category], map: "idx_guides_category")
  @@index([destination_id], map: "idx_guides_destination_id")
  @@index([featured], map: "idx_guides_featured")
  @@index([slug], map: "idx_guides_slug")
}

model health_alerts {
  id             String                @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  destination_id String                @db.VarChar
  alert_type     health_alert_type
  title          String
  description    String?
  details        Json?                 @default("{}")
  translations   Json?                 @default("{}")
  source         String?
  source_url     String?
  issued_date    DateTime?             @db.Timestamp(6)
  expiry_date    DateTime?             @db.Timestamp(6)
  status         health_alert_status   @default(active)
  severity       health_alert_severity @default(low)
  created_at     DateTime?             @default(now()) @db.Timestamp(6)
  updated_at     DateTime?             @default(now()) @db.Timestamp(6)
}

model help_articles {
  id               String              @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  category_id      String              @db.VarChar
  slug             String              @db.VarChar
  title            String              @db.VarChar
  summary          String?
  blocks           Json?               @default("[]")
  meta_title       String?             @db.VarChar
  meta_description String?
  locale           String              @default("en") @db.VarChar
  status           help_article_status @default(draft)
  order            Int                 @default(0)
  view_count       Int                 @default(0)
  author_id        String?             @db.VarChar
  published_at     DateTime?           @db.Timestamp(6)
  created_at       DateTime?           @default(now()) @db.Timestamp(6)
  updated_at       DateTime?           @default(now()) @db.Timestamp(6)
  users            users?              @relation(fields: [author_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "help_articles_author_id_users_id_fk")
  help_categories  help_categories     @relation(fields: [category_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "help_articles_category_id_help_categories_id_fk")
}

model help_categories {
  id            String          @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  slug          String          @unique(map: "help_categories_slug_unique") @db.VarChar
  title         String          @db.VarChar
  description   String?
  icon          String?         @db.VarChar
  locale        String          @default("en") @db.VarChar
  order         Int             @default(0)
  is_active     Boolean         @default(true)
  created_at    DateTime?       @default(now()) @db.Timestamp(6)
  updated_at    DateTime?       @default(now()) @db.Timestamp(6)
  help_articles help_articles[]
}

model hero_slides {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  image_url      String
  image_alt      String?
  headline       String?
  headline_he    String?
  subheadline    String?
  subheadline_he String?
  cta_text       String?
  cta_text_he    String?
  cta_link       String?
  sort_order     Int?      @default(0)
  is_active      Boolean?  @default(true)
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  updated_at     DateTime? @default(now()) @db.Timestamp(6)
}

model homepage_cards {
  id          Int       @id @default(autoincrement())
  section_id  String?   @db.VarChar
  icon        String?   @db.VarChar(50)
  title       String?   @db.VarChar(255)
  title_he    String?
  subtitle    String?   @db.VarChar(255)
  subtitle_he String?
  link_url    String?   @db.VarChar(255)
  sort_order  Int?      @default(0)
  is_active   Boolean?  @default(true)
  created_at  DateTime? @default(now()) @db.Timestamp(6)
  updated_at  DateTime? @default(now()) @db.Timestamp(6)
}

model homepage_cta {
  id                   String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  eyebrow              String?
  eyebrow_he           String?
  headline             String
  headline_he          String?
  subheadline          String?
  subheadline_he       String?
  input_placeholder    String?
  input_placeholder_he String?
  button_text          String?
  button_text_he       String?
  helper_text          String?
  helper_text_he       String?
  background_image     String?
  is_visible           Boolean?  @default(true)
  created_at           DateTime? @default(now()) @db.Timestamp(6)
  updated_at           DateTime? @default(now()) @db.Timestamp(6)
}

model homepage_promotions {
  id           String           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  section      homepage_section
  content_id   String?          @db.VarChar
  position     Int?             @default(0)
  is_active    Boolean?         @default(true)
  custom_title String?
  custom_image String?
  created_at   DateTime?        @default(now()) @db.Timestamp(6)
  contents     contents?        @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "homepage_promotions_content_id_contents_id_fk")
}

model homepage_sections {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  section_key String    @unique(map: "homepage_sections_section_key_unique") @db.VarChar(50)
  title       String?
  title_he    String?
  subtitle    String?
  subtitle_he String?
  sort_order  Int?      @default(0)
  is_visible  Boolean?  @default(true)
  created_at  DateTime? @default(now()) @db.Timestamp(6)
  updated_at  DateTime? @default(now()) @db.Timestamp(6)
}

model homepage_seo_meta {
  id                  String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  meta_title          String?
  meta_title_he       String?
  meta_description    String?
  meta_description_he String?
  meta_keywords       String?
  og_title            String?
  og_title_he         String?
  og_description      String?
  og_description_he   String?
  og_image            String?
  canonical_url       String?
  robots_meta         String?   @default("index, follow")
  schema_enabled      Boolean?  @default(true)
  created_at          DateTime? @default(now()) @db.Timestamp(6)
  updated_at          DateTime? @default(now()) @db.Timestamp(6)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model hotel_districts {
  hotel_id    String    @db.VarChar
  district_id String    @db.VarChar
  confidence  Int?
  source      String    @default("manual") @db.VarChar
  created_at  DateTime? @default(now()) @db.Timestamp(6)
  districts   districts @relation(fields: [district_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "hotel_districts_district_id_districts_id_fk")
  hotels      hotels    @relation(fields: [hotel_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "hotel_districts_hotel_id_hotels_id_fk")

  @@ignore
}

model hotels {
  id              String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id      String            @db.VarChar
  destination_id  String?           @db.VarChar
  location        String?
  star_rating     Int?
  number_of_rooms Int?
  amenities       Json?             @default("[]")
  target_audience Json?             @default("[]")
  primary_cta     String?
  quick_info_bar  Json?             @default("[]")
  highlights      Json?             @default("[]")
  room_types      Json?             @default("[]")
  essential_info  Json?             @default("[]")
  dining_preview  Json?             @default("[]")
  activities      Json?             @default("[]")
  traveler_tips   Json?             @default("[]")
  faq             Json?             @default("[]")
  location_nearby Json?             @default("[]")
  related_hotels  Json?             @default("[]")
  photo_gallery   Json?             @default("[]")
  trust_signals   Json?             @default("[]")
  deleted_at      DateTime?         @db.Timestamp(6)
  created_at      DateTime?         @default(now()) @db.Timestamp(6)
  updated_at      DateTime?         @default(now()) @db.Timestamp(6)
  hotel_districts hotel_districts[] @ignore
  contents        contents          @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "hotels_content_id_contents_id_fk")
}

model image_collections {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name           String
  description    String?
  cover_image_id String?   @db.VarChar
  image_ids      Json?     @default("[]")
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  updated_at     DateTime? @default(now()) @db.Timestamp(6)
}

model image_usage {
  id                    String               @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  asset_id              String               @db.VarChar
  entity_id             String?              @db.VarChar
  entity_type           String?              @db.VarChar
  page_id               String?              @db.VarChar
  page_type             String?              @db.VarChar
  requested_role        image_role?
  final_role            image_role?
  intelligence_snapshot Json?
  decision              image_usage_decision @default(pending)
  decision_reason       String?
  decision_rule_id      String?              @db.VarChar
  approved_by           String?              @db.VarChar
  approved_at           DateTime?            @db.Timestamp(6)
  reused_from_id        String?              @db.VarChar
  created_at            DateTime?            @default(now()) @db.Timestamp(6)
  updated_at            DateTime?            @default(now()) @db.Timestamp(6)
}

model integration_connections {
  id             String         @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  provider       String         @db.VarChar
  name           String         @db.VarChar
  config         Json           @default("{}")
  status         String?        @default("active") @db.VarChar
  last_sync_at   DateTime?      @db.Timestamp(6)
  sync_frequency String?        @default("manual") @db.VarChar
  error_message  String?
  metadata       Json?          @default("{}")
  created_by     String?        @db.VarChar
  created_at     DateTime?      @default(now()) @db.Timestamp(6)
  updated_at     DateTime?      @default(now()) @db.Timestamp(6)
  data_exports   data_exports[]
  users          users?         @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "integration_connections_created_by_users_id_fk")
}

model internal_links {
  id                                                  String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  source_content_id                                   String?   @db.VarChar
  target_content_id                                   String?   @db.VarChar
  anchor_text                                         String?
  is_auto_suggested                                   Boolean?  @default(false)
  created_at                                          DateTime? @default(now()) @db.Timestamp(6)
  contents_internal_links_source_content_idTocontents contents? @relation("internal_links_source_content_idTocontents", fields: [source_content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "internal_links_source_content_id_contents_id_fk")
  contents_internal_links_target_content_idTocontents contents? @relation("internal_links_target_content_idTocontents", fields: [target_content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "internal_links_target_content_id_contents_id_fk")
}

model itineraries {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id       String    @db.VarChar
  duration         String?
  total_price      String?
  difficulty_level String?
  target_audience  Json?     @default("[]")
  highlights       Json?     @default("[]")
  included_items   Json?     @default("[]")
  excluded_items   Json?     @default("[]")
  day_plan         Json?     @default("[]")
  primary_cta      String?
  faq              Json?     @default("[]")
  deleted_at       DateTime? @db.Timestamp(6)
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  updated_at       DateTime? @default(now()) @db.Timestamp(6)
  contents         contents  @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "itineraries_content_id_contents_id_fk")
}

model journey_touchpoints {
  id               String        @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  journey_id       String        @db.VarChar
  step_number      Int
  page_url         String        @db.VarChar
  page_title       String?       @db.VarChar
  event_type       String?       @db.VarChar
  time_on_page     Int?
  scroll_depth     Int?
  interaction_data Json?         @default("{}")
  timestamp        DateTime?     @default(now()) @db.Timestamp(6)
  user_journeys    user_journeys @relation(fields: [journey_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "journey_touchpoints_journey_id_user_journeys_id_fk")
}

model keyword_repository {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  keyword          String    @unique(map: "keyword_repository_keyword_unique")
  type             String
  category         String?
  search_volume    String?
  competition      String?
  related_keywords Json?     @default("[]")
  usage_count      Int?      @default(0)
  priority         Int?      @default(0)
  notes            String?
  is_active        Boolean?  @default(true)
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  updated_at       DateTime? @default(now()) @db.Timestamp(6)
}

model leads {
  id                String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  business_id       String            @db.VarChar
  content_id        String            @db.VarChar
  type              lead_type
  name              String            @db.VarChar
  email             String            @db.VarChar
  phone             String?           @db.VarChar
  message           String?
  check_in          DateTime?         @db.Timestamp(6)
  check_out         DateTime?         @db.Timestamp(6)
  guests            Int?
  budget            String?           @db.VarChar
  source            String            @db.VarChar
  status            lead_status       @default(new)
  notes             String?
  created_at        DateTime          @default(now()) @db.Timestamp(6)
  updated_at        DateTime?         @default(now()) @db.Timestamp(6)
  business_listings business_listings @relation(fields: [business_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "leads_business_id_business_listings_id_fk")
}

model live_chat_conversations {
  id                 String               @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  visitor_id         String               @db.VarChar
  visitor_name       String?              @db.VarChar
  visitor_email      String?              @db.VarChar
  status             live_chat_status     @default(open)
  assigned_to_id     String?              @db.VarChar
  last_message_at    DateTime?            @db.Timestamp(6)
  unread_count       Int?                 @default(0)
  created_at         DateTime?            @default(now()) @db.Timestamp(6)
  updated_at         DateTime?            @default(now()) @db.Timestamp(6)
  users              users?               @relation(fields: [assigned_to_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "live_chat_conversations_assigned_to_id_users_id_fk")
  live_chat_messages live_chat_messages[]
}

model live_chat_messages {
  id                      String                  @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  conversation_id         String                  @db.VarChar
  sender_type             String                  @db.VarChar(20)
  sender_id               String?                 @db.VarChar
  content                 String
  is_read                 Boolean?                @default(false)
  created_at              DateTime?               @default(now()) @db.Timestamp(6)
  live_chat_conversations live_chat_conversations @relation(fields: [conversation_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "live_chat_messages_conversation_id_live_chat_conversations_id_f")
}

model locale_seo_keywords {
  id                String           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  locale            String           @db.VarChar(10)
  destination       String           @db.VarChar(100)
  keyword_type      seo_keyword_type
  keyword           String
  search_volume     Int?
  competition_level Float?           @db.Real
  created_at        DateTime?        @default(now()) @db.Timestamp(6)
  updated_at        DateTime?        @default(now()) @db.Timestamp(6)

  @@unique([locale, destination, keyword], map: "uq_seo_keyword")
  @@index([destination], map: "idx_seo_keywords_destination")
  @@index([locale], map: "idx_seo_keywords_locale")
}

model magic_link_tokens {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  email      String    @db.VarChar
  token      String    @unique(map: "magic_link_tokens_token_unique") @db.VarChar
  used       Boolean   @default(false)
  expires_at DateTime  @db.Timestamp(6)
  created_at DateTime? @default(now()) @db.Timestamp(6)
}

model media_assets {
  id                    String                  @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  path                  String
  url                   String
  filename              String
  mime_type             String
  size                  Int
  checksum              String?                 @db.VarChar(64)
  width                 Int?
  height                Int?
  content_id            String?                 @db.VarChar
  source                asset_source?           @default(upload)
  last_scanned_at       DateTime?               @db.Timestamp(6)
  is_orphan             Boolean?                @default(false)
  orphaned_at           DateTime?               @db.Timestamp(6)
  created_at            DateTime?               @default(now()) @db.Timestamp(6)
  updated_at            DateTime?               @default(now()) @db.Timestamp(6)
  contents              contents?               @relation(fields: [content_id], references: [id], onUpdate: NoAction, map: "media_assets_content_id_contents_id_fk")
  media_recommendations media_recommendations[]
}

model media_files {
  id                String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  filename          String
  original_filename String
  mime_type         String
  size              Int
  url               String
  alt_text          String?
  width             Int?
  height            Int?
  created_at        DateTime? @default(now()) @db.Timestamp(6)
}

model media_recommendations {
  id                      String                 @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  asset_id                String?                @db.VarChar
  content_id              String?                @db.VarChar
  type                    recommendation_type
  priority                String
  title                   String
  description             String
  performance_gain        Int?
  seo_impact              String?
  aeo_impact              String?
  estimated_savings_bytes Int?
  action_type             String
  action_params           Json?                  @default("{}")
  reversible              Boolean?               @default(true)
  risk_level              String?                @default("low")
  current_value           Json?
  proposed_value          Json?
  status                  recommendation_status? @default(pending)
  approved_by             String?                @db.VarChar
  approved_at             DateTime?              @db.Timestamp(6)
  rejected_by             String?                @db.VarChar
  rejected_at             DateTime?              @db.Timestamp(6)
  rejection_reason        String?
  applied_at              DateTime?              @db.Timestamp(6)
  failed_at               DateTime?              @db.Timestamp(6)
  failure_reason          String?
  created_at              DateTime?              @default(now()) @db.Timestamp(6)
  updated_at              DateTime?              @default(now()) @db.Timestamp(6)
  media_assets            media_assets?          @relation(fields: [asset_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "media_recommendations_asset_id_media_assets_id_fk")
  contents                contents?              @relation(fields: [content_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "media_recommendations_content_id_contents_id_fk")
}

model metric_snapshots {
  id            String                 @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  snapshot_type String                 @db.VarChar
  granularity   String                 @db.VarChar
  period_start  DateTime?              @db.Timestamp(6)
  period_end    DateTime?              @db.Timestamp(6)
  status        metric_snapshot_status @default(completed)
  description   String?
  tags          Json?                  @default("[]")
  metrics       Json?                  @default("[]")
  created_by    String?                @db.VarChar
  created_at    DateTime?              @default(now()) @db.Timestamp(6)
}

model metric_time_series {
  id          String   @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  metric_id   String   @db.VarChar
  entity_type String   @db.VarChar
  entity_id   String?  @db.VarChar
  granularity String   @db.VarChar
  value       Int
  metadata    Json?    @default("{}")
  timestamp   DateTime @db.Timestamp(6)
}

model native_localized_content {
  id                       String              @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  entity_type              native_entity_type
  entity_id                String              @db.VarChar(100)
  destination              String              @db.VarChar(100)
  locale                   String              @db.VarChar(10)
  tier                     Int                 @default(5)
  title                    String?
  introduction             String?
  what_to_expect           String?
  visitor_tips             String?
  how_to_get_there         String?
  highlights               Json?
  faq                      Json?
  answer_capsule           String?
  meta_title               String?             @db.VarChar(100)
  meta_description         String?
  locale_purity_score      Float?              @db.Real
  validation_results       Json?
  status                   pilot_locale_status @default(generating)
  failure_reason           String?
  writer_agent             String?             @db.VarChar(100)
  engine_used              String?             @db.VarChar(100)
  tokens_used              Int?
  generation_time_ms       Int?
  cultural_context_version String?             @db.VarChar(50)
  created_at               DateTime?           @default(now()) @db.Timestamp(6)
  updated_at               DateTime?           @default(now()) @db.Timestamp(6)
  published_at             DateTime?           @db.Timestamp(6)

  @@unique([entity_type, entity_id, locale], map: "uq_native_content_entity_locale")
  @@index([destination], map: "idx_native_content_destination")
  @@index([locale], map: "idx_native_content_locale")
  @@index([status], map: "idx_native_content_status")
  @@index([tier], map: "idx_native_content_tier")
}

model navigation_menu_items {
  id               String           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  menu_id          String           @db.VarChar
  parent_id        String?          @db.VarChar
  label            String
  label_he         String?
  href             String
  icon             String?
  open_in_new_tab  Boolean?         @default(false)
  is_highlighted   Boolean?         @default(false)
  highlight_style  String?
  sort_order       Int?             @default(0)
  is_active        Boolean?         @default(true)
  created_at       DateTime?        @default(now()) @db.Timestamp(6)
  navigation_menus navigation_menus @relation(fields: [menu_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "navigation_menu_items_menu_id_navigation_menus_id_fk")
}

model navigation_menus {
  id                    String                  @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name                  String
  slug                  String                  @unique(map: "navigation_menus_slug_unique") @db.VarChar
  location              String                  @default("header")
  is_active             Boolean?                @default(true)
  created_at            DateTime?               @default(now()) @db.Timestamp(6)
  updated_at            DateTime?               @default(now()) @db.Timestamp(6)
  navigation_menu_items navigation_menu_items[]
}

model news {
  id           Int       @id @default(autoincrement())
  title        String    @db.VarChar(500)
  slug         String    @unique @db.VarChar(255)
  subtitle     String?
  excerpt      String?
  content      String?
  image        String?   @db.VarChar(500)
  category     String?   @db.VarChar(100)
  destination  String?   @db.VarChar(255)
  author       String?   @db.VarChar(255)
  date         String?   @db.VarChar(50)
  reading_time Int?      @default(5)
  views        String?   @db.VarChar(20)
  featured     Boolean?  @default(false)
  breaking     Boolean?  @default(false)
  trending     Boolean?  @default(false)
  published_at DateTime? @default(now()) @db.Timestamp(6)
  created_at   DateTime? @default(now()) @db.Timestamp(6)
  updated_at   DateTime? @default(now()) @db.Timestamp(6)

  @@index([category], map: "idx_news_category")
  @@index([destination], map: "idx_news_destination")
  @@index([featured], map: "idx_news_featured")
  @@index([slug], map: "idx_news_slug")
}

model newsletter_ab_tests {
  id                   String                @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name                 String                @db.VarChar
  campaign_id          String?               @db.VarChar
  test_type            String                @db.VarChar
  variant_a            Json
  variant_b            Json
  split_percentage     Int?                  @default(50)
  test_duration_hours  Int?                  @default(24)
  auto_select_winner   Boolean?              @default(true)
  winner_metric        String?               @default("open_rate") @db.VarChar
  status               String?               @default("running") @db.VarChar
  winner_id            String?               @db.VarChar
  stats_a              Json?                 @default("{\"sent\": 0, \"opened\": 0, \"bounced\": 0, \"clicked\": 0}")
  stats_b              Json?                 @default("{\"sent\": 0, \"opened\": 0, \"bounced\": 0, \"clicked\": 0}")
  started_at           DateTime?             @db.Timestamp(6)
  completed_at         DateTime?             @db.Timestamp(6)
  created_by           String?               @db.VarChar
  created_at           DateTime?             @default(now()) @db.Timestamp(6)
  newsletter_campaigns newsletter_campaigns? @relation(fields: [campaign_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "newsletter_ab_tests_campaign_id_newsletter_campaigns_id_fk")
  users                users?                @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "newsletter_ab_tests_created_by_users_id_fk")
}

model newsletter_campaigns {
  id                  String                @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name                String                @db.VarChar
  subject             String                @db.VarChar
  subject_he          String?               @db.VarChar
  preview_text        String?               @db.VarChar
  preview_text_he     String?               @db.VarChar
  html_content        String
  html_content_he     String?
  status              campaign_status       @default(draft)
  target_tags         Json?
  target_locales      Json?
  scheduled_at        DateTime?             @db.Timestamp(6)
  sent_at             DateTime?             @db.Timestamp(6)
  created_at          DateTime?             @default(now()) @db.Timestamp(6)
  updated_at          DateTime?             @default(now()) @db.Timestamp(6)
  created_by          String?               @db.VarChar
  total_recipients    Int?                  @default(0)
  total_sent          Int?                  @default(0)
  total_opened        Int?                  @default(0)
  total_clicked       Int?                  @default(0)
  total_bounced       Int?                  @default(0)
  total_unsubscribed  Int?                  @default(0)
  campaign_events     campaign_events[]
  newsletter_ab_tests newsletter_ab_tests[]
  users               users?                @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "newsletter_campaigns_created_by_users_id_fk")
}

model newsletter_subscribers {
  id                        String                      @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  email                     String                      @unique(map: "idx_newsletter_subscribers_email") @db.VarChar
  first_name                String?                     @db.VarChar
  last_name                 String?                     @db.VarChar
  locale                    String?                     @default("en") @db.VarChar
  language_preference       String?                     @default("en") @db.VarChar
  source                    String?                     @default("coming_soon") @db.VarChar
  status                    subscriber_status           @default(pending_confirmation)
  ip_address                String?                     @db.VarChar
  confirm_token             String?                     @db.VarChar
  tags                      Json?                       @default("[]")
  interest_tags             Json?                       @default("[]")
  preferences               Json?                       @default("{\"frequency\": \"weekly\", \"categories\": []}")
  subscribed_at             DateTime?                   @default(now()) @db.Timestamp(6)
  confirmed_at              DateTime?                   @db.Timestamp(6)
  unsubscribed_at           DateTime?                   @db.Timestamp(6)
  last_email_at             DateTime?                   @db.Timestamp(6)
  emails_received           Int?                        @default(0)
  emails_opened             Int?                        @default(0)
  emails_clicked            Int?                        @default(0)
  emails_bounced            Int?                        @default(0)
  bounce_reason             String?
  last_bounce_at            DateTime?                   @db.Timestamp(6)
  consent_log               Json?                       @default("[]")
  is_active                 Boolean                     @default(true)
  updated_at                DateTime?                   @default(now()) @db.Timestamp(6)
  campaign_events           campaign_events[]
  drip_campaign_enrollments drip_campaign_enrollments[]
}

model notifications {
  id         String             @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  user_id    String             @db.VarChar
  type       notification_type? @default(info)
  title      String
  message    String?
  link       String?
  metadata   Json?
  is_read    Boolean?           @default(false)
  read_at    DateTime?          @db.Timestamp(6)
  created_at DateTime?          @default(now()) @db.Timestamp(6)
  users      users              @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "notifications_user_id_users_id_fk")
}

model octopus_job_artifacts {
  id              String                  @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  job_id          String                  @db.VarChar
  entity_type     String                  @db.VarChar
  entity_id       String?                 @db.VarChar
  content_id      String?                 @db.VarChar
  normalized_name String                  @db.VarChar
  source_hash     String?                 @db.VarChar
  action          octopus_artifact_action @default(created)
  diff_summary    Json?                   @default("{}")
  confidence      Int?
  raw_extraction  Json?                   @default("{}")
  created_at      DateTime?               @default(now()) @db.Timestamp(6)
  contents        contents?               @relation(fields: [content_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "octopus_job_artifacts_content_id_contents_id_fk")
  octopus_jobs    octopus_jobs            @relation(fields: [job_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "octopus_job_artifacts_job_id_octopus_jobs_id_fk")
}

model octopus_job_runs {
  id            String       @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  job_id        String       @db.VarChar
  stage         String       @db.VarChar
  status        String       @default("pending") @db.VarChar
  priority      Int          @default(0)
  retry_count   Int          @default(0)
  next_retry_at DateTime?    @db.Timestamp(6)
  input_data    Json?
  output_data   Json?
  created_at    DateTime?    @default(now()) @db.Timestamp(6)
  started_at    DateTime?    @db.Timestamp(6)
  completed_at  DateTime?    @db.Timestamp(6)
  finished_at   DateTime?    @db.Timestamp(6)
  duration_ms   Int?
  stats         Json?        @default("{}")
  error         String?
  octopus_jobs  octopus_jobs @relation(fields: [job_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "octopus_job_runs_job_id_octopus_jobs_id_fk")
}

model octopus_jobs {
  id                    String                  @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  input_hash            String                  @db.VarChar
  filename              String                  @db.VarChar
  file_size             Int?
  mime_type             String?                 @db.VarChar
  destination_hint      String?                 @db.VarChar
  destination_id        String?                 @db.VarChar
  locale                String                  @default("en") @db.VarChar
  status                octopus_job_status      @default(pending)
  progress_pct          Int                     @default(0)
  current_stage         String?                 @db.VarChar
  options               Json?                   @default("{}")
  error                 String?
  paused_at             DateTime?               @db.Timestamp(6)
  pause_reason          String?                 @db.VarChar
  created_at            DateTime?               @default(now()) @db.Timestamp(6)
  started_at            DateTime?               @db.Timestamp(6)
  completed_at          DateTime?               @db.Timestamp(6)
  created_by            String?                 @db.VarChar
  octopus_job_artifacts octopus_job_artifacts[]
  octopus_job_runs      octopus_job_runs[]
  users                 users?                  @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "octopus_jobs_created_by_users_id_fk")
}

model otp_codes {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  email      String    @db.VarChar
  code       String    @db.VarChar(6)
  used       Boolean   @default(false)
  expires_at DateTime  @db.Timestamp(6)
  created_at DateTime? @default(now()) @db.Timestamp(6)
}

model page_layouts {
  id               String              @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  slug             String              @unique(map: "page_layouts_slug_unique") @db.VarChar
  title            String?
  components       Json?               @default("[]")
  draft_components Json?
  status           page_layout_status? @default(draft)
  published_at     DateTime?           @db.Timestamp(6)
  draft_updated_at DateTime?           @db.Timestamp(6)
  created_by       Int?
  updated_by       Int?
  created_at       DateTime?           @default(now()) @db.Timestamp(6)
  updated_at       DateTime?           @default(now()) @db.Timestamp(6)
}

model page_sections {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  page_id          String    @db.VarChar
  section_type     String
  section_key      String?   @db.VarChar(100)
  title            String?
  subtitle         String?
  description      String?
  button_text      String?
  button_link      String?
  title_he         String?
  subtitle_he      String?
  description_he   String?
  button_text_he   String?
  background_image String?
  background_video String?
  images           Json?     @default("[]")
  data             Json?     @default("{}")
  data_he          Json?     @default("{}")
  background_color String?   @db.VarChar(50)
  text_color       String?   @db.VarChar(50)
  custom_css       String?
  animation        String?   @db.VarChar(50)
  sort_order       Int?      @default(0)
  is_visible       Boolean?  @default(true)
  show_on_mobile   Boolean?  @default(true)
  show_on_desktop  Boolean?  @default(true)
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  updated_at       DateTime? @default(now()) @db.Timestamp(6)
  last_edited_by   String?   @db.VarChar
}

model page_seo {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  page_path        String    @unique @db.VarChar(255)
  page_label       String?   @db.VarChar(255)
  meta_title       String?
  meta_description String?
  canonical_url    String?
  og_title         String?
  og_description   String?
  og_image         String?
  robots_meta      String?   @default("index, follow")
  json_ld_schema   Json?
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  updated_at       DateTime? @default(now()) @db.Timestamp(6)
}

model partners {
  id                String         @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name              String
  email             String         @unique(map: "partners_email_unique") @db.VarChar
  company_name      String?
  website           String?
  commission_rate   Int
  status            partner_status @default(pending)
  tracking_code     String         @unique(map: "partners_tracking_code_unique") @db.VarChar
  payment_details   Json?
  total_earnings    Int?           @default(0)
  total_clicks      Int?           @default(0)
  total_conversions Int?           @default(0)
  created_at        DateTime?      @default(now()) @db.Timestamp(6)
  updated_at        DateTime?      @default(now()) @db.Timestamp(6)
}

model payouts {
  id           String        @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  partner_id   String?       @db.VarChar
  amount       Int
  currency     String        @default("USD") @db.VarChar
  status       payout_status @default(pending)
  method       String?
  reference_id String?
  period_start DateTime      @db.Timestamp(6)
  period_end   DateTime      @db.Timestamp(6)
  processed_at DateTime?     @db.Timestamp(6)
  created_at   DateTime?     @default(now()) @db.Timestamp(6)
}

model pilot_localized_content {
  id                  String   @id @default(dbgenerated("(gen_random_uuid())::text")) @db.VarChar(255)
  entity_type         String   @db.VarChar(50)
  entity_id           String   @db.VarChar(255)
  locale              String   @db.VarChar(10)
  destination         String   @db.VarChar(255)
  introduction        String?
  what_to_expect      String?
  visitor_tips        String?
  how_to_get_there    String?
  faq                 Json?
  answer_capsule      String?
  meta_title          String?  @db.VarChar(255)
  meta_description    String?
  image_alt           String?  @db.VarChar(255)
  image_caption       String?
  locale_purity_score Float?   @db.Real
  writer_agent        String?  @db.VarChar(100)
  engine_used         String?  @db.VarChar(100)
  validation_results  Json?
  failure_reason      String?
  status              String   @default("draft") @db.VarChar(50)
  created_at          DateTime @default(now()) @db.Timestamp(6)
  updated_at          DateTime @default(now()) @db.Timestamp(6)

  @@unique([entity_type, entity_id, locale], map: "pilot_localized_content_entity_locale_idx")
}

model pilot_localized_guides {
  id                  String   @id @default(dbgenerated("(gen_random_uuid())::text")) @db.VarChar
  guide_slug          String   @db.VarChar(255)
  locale              String   @db.VarChar(10)
  destination         String   @db.VarChar(100)
  introduction        String?
  what_to_expect      String?
  highlights          Json?
  tips                String?
  faq                 Json?
  answer_capsule      String?
  meta_title          String?  @db.VarChar(100)
  meta_description    String?
  source_guide_id     Int?
  locale_purity_score Float?   @db.Real
  validation_results  Json?
  status              String   @default("generating") @db.VarChar(20)
  failure_reason      String?
  writer_agent        String?  @db.VarChar(100)
  engine_used         String?  @db.VarChar(100)
  tokens_used         Int?
  generation_time_ms  Int?
  created_at          DateTime @default(now()) @db.Timestamp(6)
  updated_at          DateTime @default(now()) @db.Timestamp(6)

  @@unique([guide_slug, locale], map: "idx_pilot_localized_guides_slug_locale")
  @@index([locale], map: "idx_pilot_localized_guides_locale")
  @@index([status], map: "idx_pilot_localized_guides_status")
}

model placement_rules {
  id          String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name        String            @db.VarChar
  description String?
  surface     placement_surface
  entity_type String            @db.VarChar
  conditions  Json
  priority    Int?              @default(0)
  is_active   Boolean?          @default(true)
  created_at  DateTime?         @default(now()) @db.Timestamp(6)
}

model policy_evaluations {
  id           String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  policy_id    String?   @db.VarChar
  policy_name  String    @db.VarChar(100)
  user_id      String?   @db.VarChar
  action       String    @db.VarChar(100)
  resource     String    @db.VarChar(100)
  resource_id  String?   @db.VarChar(255)
  result       String    @db.VarChar(20)
  reason       String?
  evaluated_at DateTime? @default(now()) @db.Timestamp(6)
}

model pre_auth_tokens {
  id                 String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  token_hash         String    @unique @db.VarChar
  user_id            String    @db.VarChar
  username           String    @db.VarChar
  nonce              String    @db.VarChar
  ip_address         String?   @db.VarChar
  user_agent         String?
  risk_score         Int?
  device_fingerprint String?
  expires_at         DateTime  @db.Timestamp(6)
  created_at         DateTime? @default(now()) @db.Timestamp(6)

  @@index([expires_at], map: "IDX_pre_auth_expires")
  @@index([token_hash], map: "IDX_pre_auth_token_hash")
}

model premium_content {
  id                 String              @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id         String              @unique(map: "premium_content_content_id_unique") @db.VarChar
  is_premium         Boolean             @default(true)
  preview_percentage Int                 @default(20)
  price              Int
  currency           String              @default("USD") @db.VarChar
  access_type        premium_access_type @default(one_time)
  subscription_tier  String?             @db.VarChar
  created_at         DateTime?           @default(now()) @db.Timestamp(6)
  updated_at         DateTime?           @default(now()) @db.Timestamp(6)
}

model property_leads {
  id              String               @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  email           String               @db.VarChar
  name            String               @db.VarChar
  phone           String?              @db.VarChar
  property_type   String?              @db.VarChar
  budget          String?              @db.VarChar
  payment_method  String?              @db.VarChar
  preferred_areas String[]
  timeline        String?              @db.VarChar
  message         String?
  source          String?              @default("off-plan-form") @db.VarChar
  status          property_lead_status @default(new)
  ip_address      String?              @db.VarChar
  user_agent      String?
  consent_given   Boolean              @default(false)
  created_at      DateTime?            @default(now()) @db.Timestamp(6)
  updated_at      DateTime?            @default(now()) @db.Timestamp(6)
  notes           String?
}

model push_subscriptions {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  endpoint   String    @unique(map: "push_subscriptions_endpoint_unique")
  p256dh_key String
  auth_key   String
  user_id    String?   @db.VarChar
  locale     String    @default("en") @db.VarChar
  user_agent String?
  created_at DateTime  @default(now()) @db.Timestamp(6)
  updated_at DateTime? @default(now()) @db.Timestamp(6)
}

model qa_categories {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  key            String    @unique(map: "qa_categories_key_unique") @db.VarChar
  name           String    @db.VarChar
  name_he        String?   @db.VarChar
  icon           String?   @db.VarChar
  description    String?
  description_he String?
  sort_order     Int       @default(0)
  is_active      Boolean   @default(true)
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  updated_at     DateTime? @default(now()) @db.Timestamp(6)
}

model qa_check_results {
  id                String          @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  run_id            String          @db.VarChar
  item_id           String          @db.VarChar
  status            qa_check_status @default(not_checked)
  notes             String?
  evidence          String?
  checked_by        String?         @db.VarChar
  checked_at        DateTime?       @db.Timestamp(6)
  auto_check_result Json?
  created_at        DateTime?       @default(now()) @db.Timestamp(6)
  updated_at        DateTime?       @default(now()) @db.Timestamp(6)
}

model qa_checklist_items {
  id                       String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  category_id              String    @db.VarChar
  key                      String    @db.VarChar
  name                     String    @db.VarChar
  name_he                  String?   @db.VarChar
  description              String?
  description_he           String?
  check_guidelines         String?
  check_guidelines_he      String?
  severity                 String    @default("medium") @db.VarChar
  sort_order               Int       @default(0)
  is_active                Boolean   @default(true)
  tags                     Json?     @default("[]")
  automated_check          Boolean   @default(false)
  automated_check_endpoint String?   @db.VarChar
  created_at               DateTime? @default(now()) @db.Timestamp(6)
  updated_at               DateTime? @default(now()) @db.Timestamp(6)
}

model qa_issues {
  id                  String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  run_id              String    @db.VarChar
  check_result_id     String?   @db.VarChar
  title               String    @db.VarChar
  description         String?
  severity            String    @default("medium") @db.VarChar
  status              String    @default("open") @db.VarChar
  assigned_to         String?   @db.VarChar
  resolved_by         String?   @db.VarChar
  resolved_at         DateTime? @db.Timestamp(6)
  resolution          String?
  external_ticket_url String?   @db.VarChar
  screenshots         Json?     @default("[]")
  created_by          String    @db.VarChar
  created_at          DateTime? @default(now()) @db.Timestamp(6)
  updated_at          DateTime? @default(now()) @db.Timestamp(6)
}

model qa_runs {
  id            String        @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name          String        @db.VarChar
  description   String?
  status        qa_run_status @default(in_progress)
  user_id       String        @db.VarChar
  environment   String        @default("development") @db.VarChar
  version       String?       @db.VarChar
  branch        String?       @db.VarChar
  total_items   Int           @default(0)
  passed_items  Int           @default(0)
  failed_items  Int           @default(0)
  skipped_items Int           @default(0)
  score         Int?          @default(0)
  notes         String?
  started_at    DateTime      @default(now()) @db.Timestamp(6)
  completed_at  DateTime?     @db.Timestamp(6)
  created_at    DateTime?     @default(now()) @db.Timestamp(6)
  updated_at    DateTime?     @default(now()) @db.Timestamp(6)
}

model qa_templates {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name           String    @db.VarChar
  name_he        String?   @db.VarChar
  description    String?
  description_he String?
  category_ids   Json      @default("[]")
  item_ids       Json?     @default("[]")
  is_default     Boolean   @default(false)
  created_by     String?   @db.VarChar
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  updated_at     DateTime? @default(now()) @db.Timestamp(6)
}

model rate_limits {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  key        String    @unique(map: "rate_limits_key_unique") @db.VarChar
  count      Int       @default(0)
  reset_at   DateTime  @db.Timestamp(6)
  created_at DateTime? @default(now()) @db.Timestamp(6)
  updated_at DateTime? @default(now()) @db.Timestamp(6)
}

model real_estate_pages {
  id               String                    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  page_key         String                    @unique(map: "real_estate_pages_page_key_unique") @db.VarChar
  category         real_estate_page_category
  title            String
  meta_title       String?
  meta_description String?
  hero_title       String?
  hero_subtitle    String?
  intro_text       String?
  sections         Json?                     @default("[]")
  faqs             Json?                     @default("[]")
  related_links    Json?                     @default("[]")
  is_active        Boolean                   @default(true)
  last_edited_by   String?                   @db.VarChar
  created_at       DateTime?                 @default(now()) @db.Timestamp(6)
  updated_at       DateTime?                 @default(now()) @db.Timestamp(6)
}

model realtime_sessions {
  id                 String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  session_id         String    @unique(map: "realtime_sessions_session_id_unique") @db.VarChar
  visitor_id         String    @db.VarChar
  current_page       String?   @db.VarChar
  current_page_title String?   @db.VarChar
  referrer           String?
  device_type        String?   @db.VarChar
  browser            String?   @db.VarChar
  os                 String?   @db.VarChar
  country            String?   @db.VarChar
  city               String?   @db.VarChar
  is_active          Boolean?  @default(true)
  last_activity_at   DateTime? @default(now()) @db.Timestamp(6)
  started_at         DateTime? @default(now()) @db.Timestamp(6)
  metadata           Json?     @default("{}")
}

model recommendation_explanations {
  id                 String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  source_type        String    @db.VarChar
  source_id          String    @db.VarChar
  entity_type        String    @db.VarChar
  entity_id          String?   @db.VarChar
  title              String    @db.VarChar
  summary            String
  primary_reason     String
  supporting_reasons Json?     @default("[]")
  data_evidence      Json?     @default("[]")
  confidence         Int
  confidence_factors Json?     @default("[]")
  methodology        String?
  limitations        Json?     @default("[]")
  assumptions        Json?     @default("[]")
  metrics_analyzed   Json?     @default("[]")
  time_range_start   DateTime? @db.Timestamp(6)
  time_range_end     DateTime? @db.Timestamp(6)
  created_at         DateTime? @default(now()) @db.Timestamp(6)
}

model referral_clicks {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  referral_code_id String    @db.VarChar
  ip_address       String?   @db.VarChar
  user_agent       String?
  referer          String?
  landing_page     String?
  created_at       DateTime? @default(now()) @db.Timestamp(6)
}

model referral_codes {
  id                String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  code              String    @unique(map: "referral_codes_code_unique") @db.VarChar
  user_id           String?   @db.VarChar
  name              String?   @db.VarChar
  description       String?
  commission_rate   Int       @default(10)
  is_active         Boolean   @default(true)
  total_clicks      Int?      @default(0)
  total_signups     Int?      @default(0)
  total_conversions Int?      @default(0)
  total_commission  Int?      @default(0)
  created_at        DateTime? @default(now()) @db.Timestamp(6)
  updated_at        DateTime? @default(now()) @db.Timestamp(6)
}

model referral_commissions {
  id               String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  referral_code_id String            @db.VarChar
  referral_id      String?           @db.VarChar
  amount           Int
  description      String?
  status           commission_status @default(pending)
  approved_at      DateTime?         @db.Timestamp(6)
  paid_at          DateTime?         @db.Timestamp(6)
  created_at       DateTime?         @default(now()) @db.Timestamp(6)
  updated_at       DateTime?         @default(now()) @db.Timestamp(6)
}

model referrals {
  id               String          @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  referral_code_id String          @db.VarChar
  subscriber_id    String?         @db.VarChar
  email            String?         @db.VarChar
  status           referral_status @default(pending)
  ip_address       String?         @db.VarChar
  user_agent       String?
  converted_at     DateTime?       @db.Timestamp(6)
  created_at       DateTime?       @default(now()) @db.Timestamp(6)
  updated_at       DateTime?       @default(now()) @db.Timestamp(6)
}

model region_links {
  id           Int       @id @default(autoincrement())
  region_name  String    @db.VarChar(255)
  name         String?
  name_he      String?
  icon         String?   @db.VarChar(50)
  link_url     String?
  links        Json?     @default("[]")
  destinations Json?     @default("[]")
  sort_order   Int?      @default(0)
  is_active    Boolean?  @default(true)
  created_at   DateTime? @default(now()) @db.Timestamp(6)
  updated_at   DateTime? @default(now()) @db.Timestamp(6)
}

model research_uploads {
  id                  String                @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  title               String                @db.VarChar
  source_type         String                @default("paste") @db.VarChar
  content             String
  status              research_status       @default(pending)
  metadata            Json?
  analyzed_at         DateTime?             @db.Timestamp(6)
  created_by          String?               @db.VarChar
  created_at          DateTime?             @default(now()) @db.Timestamp(6)
  updated_at          DateTime?             @default(now()) @db.Timestamp(6)
  content_suggestions content_suggestions[]
}

model restaurants {
  id             Int           @id @default(autoincrement())
  name           String        @db.VarChar(255)
  destination_id Int?
  cuisine        String?       @db.VarChar(100)
  location       String?       @db.VarChar(255)
  image          String?       @db.VarChar(500)
  price          String?       @db.VarChar(10)
  rating         Decimal?      @default(4.5) @db.Decimal(2, 1)
  description    String?
  features       String[]
  michelin_stars Int?          @default(0)
  status         String?       @default("published") @db.VarChar(50)
  created_at     DateTime?     @default(now()) @db.Timestamp(6)
  updated_at     DateTime?     @default(now()) @db.Timestamp(6)
  destinations   destinations? @relation(fields: [destination_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model rss_feed_items {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  feed_id        String    @db.VarChar(50)
  title          String    @db.VarChar(500)
  url            String    @unique @db.VarChar(2000)
  summary        String?
  published_date DateTime? @db.Timestamptz(6)
  source         String?   @db.VarChar(200)
  category       String?   @db.VarChar(100)
  processed      Boolean?  @default(false)
  content_id     String?   @db.VarChar(50)
  created_at     DateTime? @default(now()) @db.Timestamptz(6)
  processed_at   DateTime? @db.Timestamptz(6)
  contents       contents? @relation(fields: [content_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  rss_feeds      rss_feeds @relation(fields: [feed_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@index([feed_id], map: "idx_rss_feed_items_feed_id")
  @@index([processed], map: "idx_rss_feed_items_processed")
  @@index([url], map: "idx_rss_feed_items_url")
}

model rss_feeds {
  id                     String                 @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name                   String
  url                    String
  category               article_category?
  is_active              Boolean?               @default(true)
  last_fetched_at        DateTime?              @db.Timestamp(6)
  fetch_interval_minutes Int?                   @default(60)
  created_at             DateTime?              @default(now()) @db.Timestamp(6)
  destination_id         String?                @db.VarChar
  language               String?                @default("en")
  region                 String?
  content_fingerprints   content_fingerprints[]
  rss_feed_items         rss_feed_items[]
}

model scheduled_reports {
  id              String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name            String    @db.VarChar
  report_type     String    @db.VarChar
  schedule        String    @db.VarChar
  schedule_config Json
  recipients      Json      @default("[]")
  format          String?   @default("pdf") @db.VarChar
  filters         Json?     @default("{}")
  is_active       Boolean?  @default(true)
  last_run_at     DateTime? @db.Timestamp(6)
  next_run_at     DateTime  @db.Timestamp(6)
  created_by      String?   @db.VarChar
  created_at      DateTime? @default(now()) @db.Timestamp(6)
  updated_at      DateTime? @default(now()) @db.Timestamp(6)
}

model scheduled_tasks {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  type          String    @db.VarChar(50)
  target_type   String    @db.VarChar(50)
  target_id     String    @db.VarChar
  scheduled_for DateTime  @db.Timestamp(6)
  payload       Json?
  status        String?   @default("pending") @db.VarChar(20)
  error         String?
  created_by    String?   @db.VarChar
  executed_at   DateTime? @db.Timestamp(6)
  created_at    DateTime? @default(now()) @db.Timestamp(6)
}

model search_index {
  content_id       String   @id @db.VarChar
  title            String   @db.VarChar
  content_type     String   @db.VarChar
  meta_description String?
  searchable_text  String?
  url              String   @db.VarChar
  image            String?  @db.VarChar
  locale           String   @default("en") @db.VarChar
  tags             String?
  embedding        String?
  created_at       DateTime @default(now()) @db.Timestamp(6)
  updated_at       DateTime @default(now()) @db.Timestamp(6)
}

model search_queries {
  id                String   @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  query             String   @db.VarChar
  results_count     Int      @default(0)
  clicked_result_id String?  @db.VarChar
  locale            String   @default("en") @db.VarChar
  session_id        String?  @db.VarChar
  created_at        DateTime @default(now()) @db.Timestamp(6)
}

model search_zero_results {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  query            String
  normalized_query String
  cluster_id       String?   @db.VarChar
  count            Int       @default(1)
  intent           String?   @db.VarChar(50)
  last_seen_at     DateTime? @default(now()) @db.Timestamp(6)
  created_at       DateTime? @default(now()) @db.Timestamp(6)
}

model section_versions {
  id                 String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  section_id         String    @db.VarChar
  version_number     Int
  data               Json
  changed_by         String?   @db.VarChar
  change_description String?
  created_at         DateTime? @default(now()) @db.Timestamp(6)
}

model segment_conditions {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  segment_id     String    @db.VarChar
  field          String    @db.VarChar
  operator       String    @db.VarChar
  value          Json
  logic_operator String?   @default("AND") @db.VarChar
  order          Int?      @default(0)
  created_at     DateTime? @default(now()) @db.Timestamp(6)
}

model seo_analysis_results {
  id                     String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id             String    @db.VarChar
  overall_score          Int
  title_score            Int?
  meta_description_score Int?
  keyword_score          Int?
  content_score          Int?
  readability_score      Int?
  technical_score        Int?
  issues                 Json?     @default("[]")
  suggestions            Json?     @default("[]")
  analyzed_at            DateTime? @default(now()) @db.Timestamp(6)
}

model seo_audit_logs {
  id           String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id   String?   @db.VarChar
  action       String    @db.VarChar
  reason       String?
  triggered_by String    @default("automatic") @db.VarChar
  status       String    @default("pending") @db.VarChar
  priority     String?   @default("medium") @db.VarChar
  data         String?
  created_at   DateTime? @default(now()) @db.Timestamp(6)
  executed_at  DateTime? @db.Timestamp(6)
}

model sessions {
  sid    String   @id @db.VarChar
  sess   Json
  expire DateTime @db.Timestamp(6)

  @@index([expire], map: "IDX_session_expire")
}

model site_settings {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  key         String    @unique(map: "site_settings_key_unique") @db.VarChar
  value       Json?
  category    String    @db.VarChar
  description String?
  updated_by  String?   @db.VarChar
  updated_at  DateTime? @default(now()) @db.Timestamp(6)
}

model social_analytics {
  id                 String          @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  post_id            String?         @db.VarChar
  campaign_id        String?         @db.VarChar
  platform           social_platform
  impressions        Int?            @default(0)
  reach              Int?            @default(0)
  clicks             Int?            @default(0)
  likes              Int?            @default(0)
  comments           Int?            @default(0)
  shares             Int?            @default(0)
  saves              Int?            @default(0)
  engagement_rate    String?         @db.VarChar
  linkedin_reactions Json?
  fetched_at         DateTime?       @default(now()) @db.Timestamp(6)
  period_start       DateTime?       @db.Timestamp(6)
  period_end         DateTime?       @db.Timestamp(6)
}

model social_campaigns {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name             String    @db.VarChar
  description      String?
  start_date       DateTime? @db.Timestamp(6)
  end_date         DateTime? @db.Timestamp(6)
  status           String    @default("active") @db.VarChar
  target_platforms Json?     @default("[]")
  goals            Json?
  created_by       String?   @db.VarChar
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  updated_at       DateTime? @default(now()) @db.Timestamp(6)
}

model social_credentials {
  id                String          @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  user_id           String          @db.VarChar
  platform          social_platform
  access_token      String?
  refresh_token     String?
  token_expires_at  DateTime?       @db.Timestamp(6)
  platform_user_id  String?         @db.VarChar
  platform_username String?         @db.VarChar
  profile_url       String?         @db.VarChar
  is_active         Boolean?        @default(true)
  last_sync_at      DateTime?       @db.Timestamp(6)
  created_at        DateTime?       @default(now()) @db.Timestamp(6)
  updated_at        DateTime?       @default(now()) @db.Timestamp(6)
}

model social_posts {
  id               String             @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  campaign_id      String?            @db.VarChar
  content_id       String?            @db.VarChar
  platform         social_platform
  status           social_post_status @default(draft)
  text             String
  text_he          String?
  media_urls       Json?              @default("[]")
  link_url         String?            @db.VarChar
  hashtags         Json?              @default("[]")
  scheduled_at     DateTime?          @db.Timestamp(6)
  published_at     DateTime?          @db.Timestamp(6)
  platform_post_id String?            @db.VarChar
  platform_data    Json?
  generated_by_ai  Boolean?           @default(false)
  source_prompt    String?
  error_message    String?
  retry_count      Int?               @default(0)
  created_by       String?            @db.VarChar
  created_at       DateTime?          @default(now()) @db.Timestamp(6)
  updated_at       DateTime?          @default(now()) @db.Timestamp(6)
}

model static_pages {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  slug             String    @unique(map: "static_pages_slug_unique") @db.VarChar
  title            String
  title_he         String?
  meta_title       String?
  meta_description String?
  content          String?
  content_he       String?
  blocks           Json?     @default("[]")
  translations     Json?     @default("{}")
  is_active        Boolean?  @default(true)
  show_in_footer   Boolean?  @default(false)
  last_edited_by   String?   @db.VarChar
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  updated_at       DateTime? @default(now()) @db.Timestamp(6)
}

model subscriber_segments {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name             String    @db.VarChar
  description      String?
  is_dynamic       Boolean?  @default(true)
  subscriber_count Int?      @default(0)
  created_by       String?   @db.VarChar
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  updated_at       DateTime? @default(now()) @db.Timestamp(6)
}

model survey_responses {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  survey_id        String    @db.VarChar
  respondent_id    String?   @db.VarChar
  respondent_email String?   @db.VarChar
  respondent_name  String?   @db.VarChar
  answers          Json
  metadata         Json?
  is_complete      Boolean?  @default(false)
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  updated_at       DateTime? @default(now()) @db.Timestamp(6)
}

model surveys {
  id             String        @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  title          String
  description    String?
  slug           String        @unique(map: "surveys_slug_unique")
  status         survey_status @default(draft)
  definition     Json          @default("{\"questions\": []}")
  author_id      String?       @db.VarChar
  response_count Int?          @default(0)
  starts_at      DateTime?     @db.Timestamp(6)
  ends_at        DateTime?     @db.Timestamp(6)
  created_at     DateTime?     @default(now()) @db.Timestamp(6)
  updated_at     DateTime?     @default(now()) @db.Timestamp(6)
}

model tag_definitions {
  id                 String        @id @db.VarChar
  category           tag_category
  label              String
  label_translations Json?
  parent_id          String?       @db.VarChar
  destination_id     String?       @db.VarChar
  description        String?
  sort_order         Int?          @default(0)
  is_active          Boolean?      @default(true)
  created_at         DateTime?     @default(now()) @db.Timestamp(6)
  updated_at         DateTime?     @default(now()) @db.Timestamp(6)
  entity_tags        entity_tags[]
}

model tags {
  id           String         @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name         String         @unique(map: "tags_name_unique")
  slug         String         @unique(map: "tags_slug_unique")
  description  String?
  color        String?        @db.VarChar
  usage_count  Int?           @default(0)
  created_at   DateTime?      @default(now()) @db.Timestamp(6)
  content_tags content_tags[]
}

model team_members {
  id        String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  team_id   String    @db.VarChar
  user_id   String    @db.VarChar
  role      String?   @default("member") @db.VarChar(50)
  joined_at DateTime? @default(now()) @db.Timestamp(6)
}

model teams {
  id          String       @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name        String
  slug        String       @unique(map: "teams_slug_unique")
  description String?
  parent_id   String?      @db.VarChar
  color       String?      @db.VarChar(7)
  icon        String?      @db.VarChar(50)
  is_active   Boolean?     @default(true)
  created_at  DateTime?    @default(now()) @db.Timestamp(6)
  updated_at  DateTime?    @default(now()) @db.Timestamp(6)
  activities  activities[]
}

model tiqets_attractions {
  id                              String                    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  tiqets_id                       String                    @unique(map: "tiqets_attractions_tiqets_id_unique") @db.VarChar
  product_slug                    String?                   @db.VarChar
  city_id                         String?                   @db.VarChar
  city_name                       String                    @db.VarChar(100)
  title                           String                    @db.VarChar(300)
  slug                            String                    @unique(map: "tiqets_attractions_slug_unique") @db.VarChar(300)
  seo_slug                        String?                   @db.VarChar(200)
  ai_content                      Json?
  content_generation_status       String?                   @default("pending") @db.VarChar(20)
  content_generation_locked_by    String?                   @db.VarChar(50)
  content_generation_locked_at    DateTime?                 @db.Timestamp(6)
  content_generation_attempts     Int?                      @default(0)
  content_generation_last_error   String?
  content_generation_provider     String?                   @db.VarChar(50)
  content_generation_completed_at DateTime?                 @db.Timestamp(6)
  name                            String?                   @db.VarChar(300)
  venue_name                      String?                   @db.VarChar(200)
  venue_address                   String?                   @db.VarChar(500)
  latitude                        String?                   @db.VarChar(20)
  longitude                       String?                   @db.VarChar(20)
  duration                        String?                   @db.VarChar(100)
  languages                       Json?                     @default("[]")
  wheelchair_access               Boolean?
  smartphone_ticket               Boolean?
  instant_ticket_delivery         Boolean?
  cancellation_policy             String?
  tiqets_highlights               Json?
  tiqets_whats_included           String?
  tiqets_whats_excluded           String?
  tiqets_description              String?
  tiqets_summary                  String?
  tiqets_images                   Json?
  tiqets_rating                   String?                   @db.VarChar(10)
  tiqets_review_count             Int?
  price_usd                       String?                   @db.VarChar(20)
  prediscount_price_usd           String?                   @db.VarChar(20)
  discount_percentage             Int?
  rating_label                    String?                   @db.VarChar(50)
  highlights                      Json?
  whats_included                  Json?
  whats_excluded                  Json?
  description                     String?
  h1_title                        String?                   @db.VarChar(200)
  meta_title                      String?                   @db.VarChar(60)
  meta_description                String?                   @db.VarChar(160)
  faqs                            Json?
  images                          Json?
  primary_category                String?                   @db.VarChar(100)
  secondary_categories            Json?
  district_id                     Int?
  product_url                     String                    @db.VarChar(500)
  quality_score                   Int?
  seo_score                       Int?
  aeo_score                       Int?
  fact_check_score                Int?
  content_version                 Int?                      @default(1)
  last_content_update             DateTime?                 @db.Timestamp(6)
  status                          tiqets_attraction_status? @default(imported)
  content_generated_at            DateTime?                 @db.Timestamp(6)
  last_synced_at                  DateTime?                 @db.Timestamp(6)
  created_at                      DateTime?                 @default(now()) @db.Timestamp(6)
  updated_at                      DateTime?                 @default(now()) @db.Timestamp(6)
  affiliate_clicks                affiliate_clicks[]

  @@index([city_name], map: "idx_tiqets_attractions_city_name")
  @@index([status], map: "idx_tiqets_attractions_status")
}

model tiqets_cities {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  tiqets_city_id   String?   @unique(map: "tiqets_cities_tiqets_city_id_unique") @db.VarChar
  name             String    @unique(map: "tiqets_cities_name_unique") @db.VarChar(100)
  country_name     String?   @db.VarChar(100)
  is_active        Boolean?  @default(true)
  attraction_count Int?      @default(0)
  last_synced_at   DateTime? @db.Timestamp(6)
  created_at       DateTime? @default(now()) @db.Timestamp(6)
  updated_at       DateTime? @default(now()) @db.Timestamp(6)
}

model topic_bank {
  id              String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  title           String
  headline_angle  String?
  category        article_category?
  main_category   topic_category?
  viral_potential viral_potential?  @default(dbgenerated("3"))
  format          topic_format?
  topic_type      topic_type?       @default(evergreen)
  keywords        Json?             @default("[]")
  outline         String?
  priority        Int?              @default(0)
  last_used       DateTime?         @db.Timestamp(6)
  times_used      Int?              @default(0)
  is_active       Boolean?          @default(true)
  created_at      DateTime?         @default(now()) @db.Timestamp(6)
}

model topic_cluster_items {
  id                 String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  cluster_id         String    @db.VarChar
  content_id         String?   @db.VarChar
  rss_feed_id        String?   @db.VarChar
  source_url         String?
  source_title       String
  source_description String?
  pub_date           DateTime? @db.Timestamp(6)
  is_used_in_merge   Boolean?  @default(false)
  created_at         DateTime? @default(now()) @db.Timestamp(6)
}

model topic_clusters {
  id                String               @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  topic             String
  status            topic_cluster_status @default(pending)
  merged_content_id String?              @db.VarChar
  similarity_score  Int?
  article_count     Int?                 @default(0)
  created_at        DateTime?            @default(now()) @db.Timestamp(6)
  updated_at        DateTime?            @default(now()) @db.Timestamp(6)
}

model translation_batch_jobs {
  id           String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  status       String    @default("pending") @db.VarChar
  batch_id     String?   @db.VarChar
  requests     Json      @default("[]")
  results      Json?     @default("{}")
  created_at   DateTime  @default(now()) @db.Timestamp(6)
  completed_at DateTime? @db.Timestamp(6)
}

model translation_jobs {
  id                    String                 @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id            String                 @db.VarChar
  source_locale         String                 @default("en") @db.VarChar
  target_locale         String                 @db.VarChar
  status                translation_job_status @default(pending)
  priority              Int                    @default(0)
  retry_count           Int                    @default(0)
  max_retries           Int                    @default(3)
  next_run_at           DateTime?              @db.Timestamp(6)
  error                 String?
  fields                Json?                  @default("[\"title\", \"metaTitle\", \"metaDescription\", \"blocks\", \"answerCapsule\", \"faq\", \"highlights\", \"tags\"]")
  source_hash           String?                @db.VarChar
  translation_provider  String?                @db.VarChar
  processing_started_at DateTime?              @db.Timestamp(6)
  created_at            DateTime?              @default(now()) @db.Timestamp(6)
  updated_at            DateTime?              @default(now()) @db.Timestamp(6)
  completed_at          DateTime?              @db.Timestamp(6)
}

model translations {
  id                   String             @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id           String             @db.VarChar
  locale               locale
  status               translation_status @default(pending)
  title                String?
  meta_title           String?
  meta_description     String?
  blocks               Json?              @default("[]")
  answer_capsule       String?
  translated_by        String?            @db.VarChar
  reviewed_by          String?            @db.VarChar
  source_hash          String?            @db.VarChar
  is_manual_override   Boolean?           @default(false)
  translation_provider String?            @db.VarChar
  created_at           DateTime?          @default(now()) @db.Timestamp(6)
  updated_at           DateTime?          @default(now()) @db.Timestamp(6)
}

model transports {
  id                String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  content_id        String    @db.VarChar
  transit_mode      String?
  route_info        String?
  target_audience   Json?     @default("[]")
  primary_cta       String?
  quick_info_bar    Json?     @default("[]")
  highlights        Json?     @default("[]")
  fare_info         Json?     @default("[]")
  essential_info    Json?     @default("[]")
  travel_tips       Json?     @default("[]")
  faq               Json?     @default("[]")
  related_transport Json?     @default("[]")
  trust_signals     Json?     @default("[]")
  deleted_at        DateTime? @db.Timestamp(6)
  created_at        DateTime? @default(now()) @db.Timestamp(6)
  updated_at        DateTime? @default(now()) @db.Timestamp(6)
}

model travel_advisories {
  id             String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  destination_id String            @db.VarChar
  advisory_type  advisory_type
  title          String
  description    String?
  requirements   Json?             @default("{}")
  translations   Json?             @default("{}")
  source_url     String?
  effective_date DateTime?         @db.Timestamp(6)
  expiry_date    DateTime?         @db.Timestamp(6)
  status         advisory_status   @default(active)
  severity       advisory_severity @default(info)
  created_at     DateTime?         @default(now()) @db.Timestamp(6)
  updated_at     DateTime?         @default(now()) @db.Timestamp(6)
}

model travi_api_usage {
  id                 String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  date               String            @db.VarChar(10)
  service            travi_api_service
  request_count      Int?              @default(0)
  success_count      Int?              @default(0)
  failed_count       Int?              @default(0)
  prompt_tokens      Int?              @default(0)
  completion_tokens  Int?              @default(0)
  total_tokens       Int?              @default(0)
  estimated_cost     String?           @default("0") @db.VarChar
  rate_limit_hits    Int?              @default(0)
  last_rate_limit_at DateTime?         @db.Timestamp(6)
  created_at         DateTime?         @default(now()) @db.Timestamp(6)
  updated_at         DateTime?         @default(now()) @db.Timestamp(6)
}

model travi_config {
  id           String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  config_key   String    @unique(map: "travi_config_config_key_unique") @db.VarChar(100)
  config_value Json?
  created_at   DateTime? @default(now()) @db.Timestamp(6)
  updated_at   DateTime? @default(now()) @db.Timestamp(6)
}

model travi_districts {
  id            Int       @id @default(autoincrement())
  city          String    @db.VarChar(100)
  name          String    @db.VarChar(200)
  slug          String    @db.VarChar(200)
  description   String?
  latitude      String?   @db.VarChar(20)
  longitude     String?   @db.VarChar(20)
  display_order Int?      @default(0)
  created_at    DateTime? @default(now()) @db.Timestamp(6)
  updated_at    DateTime? @default(now()) @db.Timestamp(6)
}

model travi_processing_jobs {
  id                 String                   @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  job_type           travi_job_type
  status             travi_job_status         @default(pending)
  destination_id     String?                  @db.VarChar
  category           travi_location_category?
  total_items        Int?                     @default(0)
  processed_items    Int?                     @default(0)
  success_count      Int?                     @default(0)
  failed_count       Int?                     @default(0)
  last_processed_id  String?                  @db.VarChar
  checkpoint_data    Json?
  started_at         DateTime?                @db.Timestamp(6)
  completed_at       DateTime?                @db.Timestamp(6)
  last_checkpoint_at DateTime?                @db.Timestamp(6)
  error_message      String?
  retry_count        Int?                     @default(0)
  created_at         DateTime?                @default(now()) @db.Timestamp(6)
  updated_at         DateTime?                @default(now()) @db.Timestamp(6)
}

model travi_system_alerts {
  id               String               @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  severity         travi_alert_severity
  service          travi_api_service?
  message          String
  total_cost       String?              @db.VarChar
  budget_threshold String?              @db.VarChar
  daily_usage      Int?
  daily_limit      Int?
  acknowledged     Boolean?             @default(false)
  acknowledged_by  String?              @db.VarChar
  acknowledged_at  DateTime?            @db.Timestamp(6)
  created_at       DateTime?            @default(now()) @db.Timestamp(6)
}

model two_factor_secrets {
  id           String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  user_id      String    @unique(map: "two_factor_secrets_user_id_unique") @db.VarChar
  secret       String    @db.VarChar
  backup_codes Json      @default("[]")
  verified     Boolean   @default(false)
  created_at   DateTime? @default(now()) @db.Timestamp(6)
  updated_at   DateTime? @default(now()) @db.Timestamp(6)
}

model ui_translations {
  id                 String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  key                String
  locale             locale
  value              String
  namespace          String?   @default("common") @db.VarChar
  is_manual_override Boolean?  @default(false)
  created_at         DateTime? @default(now()) @db.Timestamp(6)
  updated_at         DateTime? @default(now()) @db.Timestamp(6)
}

model update_9987_cities {
  id           Int       @id @default(autoincrement())
  name         String    @db.VarChar(255)
  state_id     Int?
  state_code   String?   @db.VarChar(10)
  country_id   Int?
  country_code String    @db.VarChar(2)
  latitude     String?   @db.VarChar(20)
  longitude    String?   @db.VarChar(20)
  wiki_data_id String?   @db.VarChar(50)
  source_id    String?   @db.VarChar(50)
  raw_data     Json?
  created_at   DateTime? @default(now()) @db.Timestamp(6)
  updated_at   DateTime? @default(now()) @db.Timestamp(6)
}

model update_9987_countries {
  id              Int       @id @default(autoincrement())
  name            String    @db.VarChar(255)
  iso2            String    @unique(map: "update_9987_countries_iso2_unique") @db.VarChar(2)
  iso3            String?   @db.VarChar(3)
  numeric_code    String?   @db.VarChar(3)
  phone_code      String?   @db.VarChar(20)
  capital         String?   @db.VarChar(255)
  currency        String?   @db.VarChar(10)
  currency_name   String?   @db.VarChar(100)
  currency_symbol String?   @db.VarChar(10)
  tld             String?   @db.VarChar(10)
  native          String?   @db.VarChar(255)
  region          String?   @db.VarChar(100)
  sub_region      String?   @db.VarChar(100)
  timezones       Json?
  latitude        String?   @db.VarChar(20)
  longitude       String?   @db.VarChar(20)
  emoji           String?   @db.VarChar(10)
  emoji_u         String?   @db.VarChar(50)
  source_id       String?   @db.VarChar(50)
  raw_data        Json?
  created_at      DateTime? @default(now()) @db.Timestamp(6)
  updated_at      DateTime? @default(now()) @db.Timestamp(6)
}

model update_9987_embeddings {
  id           Int       @id @default(autoincrement())
  content_type String    @db.VarChar(50)
  content_id   String    @db.VarChar(100)
  chunk_index  Int?      @default(0)
  text         String
  model        String?   @db.VarChar(50)
  dimensions   Int?
  created_at   DateTime? @default(now()) @db.Timestamp(6)
}

model update_9987_foursquare_pois {
  id             Int       @id @default(autoincrement())
  fsq_id         String    @unique(map: "update_9987_foursquare_pois_fsq_id_unique") @db.VarChar(100)
  name           String?   @db.VarChar(500)
  latitude       String?   @db.VarChar(20)
  longitude      String?   @db.VarChar(20)
  address        String?   @db.VarChar(500)
  locality       String?   @db.VarChar(200)
  region         String?   @db.VarChar(200)
  postcode       String?   @db.VarChar(20)
  country_code   String?   @db.VarChar(5)
  category_id    String?   @db.VarChar(100)
  category_name  String?   @db.VarChar(200)
  chain_id       String?   @db.VarChar(100)
  chain_name     String?   @db.VarChar(200)
  date_created   String?   @db.VarChar(30)
  date_refreshed String?   @db.VarChar(30)
  h3_index       String?   @db.VarChar(20)
  created_at     DateTime? @default(now()) @db.Timestamp(6)
}

model update_9987_geonames {
  id                Int       @id @default(autoincrement())
  geoname_id        Int       @unique(map: "update_9987_geonames_geoname_id_unique")
  name              String    @db.VarChar(500)
  ascii_name        String?   @db.VarChar(500)
  alternate_names   String?
  feature_class     String?   @db.VarChar(5)
  feature_code      String?   @db.VarChar(20)
  country_code      String?   @db.VarChar(2)
  admin_code1       String?   @db.VarChar(20)
  admin_code2       String?   @db.VarChar(80)
  population        Int?
  elevation         Int?
  timezone          String?   @db.VarChar(50)
  latitude          String?   @db.VarChar(20)
  longitude         String?   @db.VarChar(20)
  h3_index          String?   @db.VarChar(20)
  modification_date String?   @db.VarChar(20)
  created_at        DateTime? @default(now()) @db.Timestamp(6)
}

model update_9987_guides {
  id                 Int       @id @default(autoincrement())
  title              String    @db.VarChar(500)
  slug               String    @unique(map: "update_9987_guides_slug_unique") @db.VarChar(500)
  destination_type   String?   @db.VarChar(50)
  country_code       String?   @db.VarChar(2)
  city_id            Int?
  original_content   String?
  rewritten_content  String?
  rewrite_model      String?   @db.VarChar(50)
  rewrite_cost       String?   @db.VarChar(20)
  sections           Json?
  status             String?   @default("pending") @db.VarChar(20)
  published_at       DateTime? @db.Timestamp(6)
  raw_data           Json?
  meta_title         String?   @db.VarChar(70)
  meta_description   String?   @db.VarChar(170)
  focus_keyword      String?   @db.VarChar(100)
  secondary_keywords Json?
  seo_score          Int?
  schema_markup      Json?
  og_tags            Json?
  images             Json?
  faqs               Json?
  created_at         DateTime? @default(now()) @db.Timestamp(6)
  updated_at         DateTime? @default(now()) @db.Timestamp(6)
}

model update_9987_ingestion_runs {
  id                Int       @id @default(autoincrement())
  source            String    @db.VarChar(100)
  status            String    @default("running") @db.VarChar(20)
  records_processed Int?      @default(0)
  records_created   Int?      @default(0)
  records_updated   Int?      @default(0)
  records_errored   Int?      @default(0)
  errors            Json?
  metadata          Json?
  started_at        DateTime? @default(now()) @db.Timestamp(6)
  completed_at      DateTime? @db.Timestamp(6)
}

model update_9987_overture_pois {
  id           Int       @id @default(autoincrement())
  overture_id  String    @unique(map: "update_9987_overture_pois_overture_id_unique") @db.VarChar(100)
  name         String    @db.VarChar(500)
  category     String?   @db.VarChar(100)
  subcategory  String?   @db.VarChar(100)
  confidence   String?   @db.VarChar(10)
  latitude     String?   @db.VarChar(20)
  longitude    String?   @db.VarChar(20)
  h3_index     String?   @db.VarChar(20)
  address      Json?
  phones       Json?
  websites     Json?
  brands       Json?
  country_code String?   @db.VarChar(2)
  city_name    String?   @db.VarChar(255)
  raw_data     Json?
  created_at   DateTime? @default(now()) @db.Timestamp(6)
  updated_at   DateTime? @default(now()) @db.Timestamp(6)
}

model update_9987_pois {
  id            Int       @id @default(autoincrement())
  external_id   String    @db.VarChar(100)
  source        String    @db.VarChar(50)
  name          String    @db.VarChar(500)
  kinds         String?
  latitude      String?   @db.VarChar(20)
  longitude     String?   @db.VarChar(20)
  city_id       Int?
  country_code  String?   @db.VarChar(2)
  description   String?
  wikipedia_url String?   @db.VarChar(500)
  image         String?   @db.VarChar(500)
  rating        String?   @db.VarChar(10)
  raw_data      Json?
  created_at    DateTime? @default(now()) @db.Timestamp(6)
  updated_at    DateTime? @default(now()) @db.Timestamp(6)
}

model update_9987_public_holidays {
  id           Int       @id @default(autoincrement())
  country_code String    @db.VarChar(5)
  date         String    @db.VarChar(10)
  year         Int
  local_name   String?   @db.VarChar(255)
  name         String    @db.VarChar(255)
  fixed        Boolean?  @default(false)
  global       Boolean?  @default(true)
  counties     Json?
  launch_year  Int?
  types        Json?
  created_at   DateTime? @default(now()) @db.Timestamp(6)
  updated_at   DateTime? @default(now()) @db.Timestamp(6)
}

model update_9987_slipo_pois {
  id            Int       @id @default(autoincrement())
  osm_id        String    @db.VarChar(50)
  osm_type      String?   @db.VarChar(20)
  name          String?   @db.VarChar(500)
  category      String?   @db.VarChar(200)
  subcategory   String?   @db.VarChar(200)
  street        String?   @db.VarChar(500)
  house_number  String?   @db.VarChar(50)
  city          String?   @db.VarChar(200)
  postcode      String?   @db.VarChar(20)
  country_code  String?   @db.VarChar(5)
  phone         String?   @db.VarChar(100)
  website       String?   @db.VarChar(500)
  email         String?   @db.VarChar(200)
  opening_hours String?
  cuisine       String?   @db.VarChar(200)
  latitude      String?   @db.VarChar(20)
  longitude     String?   @db.VarChar(20)
  h3_index      String?   @db.VarChar(20)
  created_at    DateTime? @default(now()) @db.Timestamp(6)
}

model update_9987_states {
  id           Int       @id @default(autoincrement())
  name         String    @db.VarChar(255)
  country_id   Int?
  country_code String    @db.VarChar(2)
  state_code   String?   @db.VarChar(10)
  type         String?   @db.VarChar(50)
  latitude     String?   @db.VarChar(20)
  longitude    String?   @db.VarChar(20)
  source_id    String?   @db.VarChar(50)
  raw_data     Json?
  created_at   DateTime? @default(now()) @db.Timestamp(6)
  updated_at   DateTime? @default(now()) @db.Timestamp(6)
}

model update_9987_tourpedia_pois {
  id             Int       @id @default(autoincrement())
  external_id    String?   @db.VarChar(100)
  source         String?   @db.VarChar(50)
  name           String    @db.VarChar(500)
  category       String?   @db.VarChar(50)
  latitude       String?   @db.VarChar(20)
  longitude      String?   @db.VarChar(20)
  h3_index       String?   @db.VarChar(20)
  address        String?
  city           String?   @db.VarChar(100)
  country_code   String?   @db.VarChar(2)
  external_links Json?
  raw_data       Json?
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  updated_at     DateTime? @default(now()) @db.Timestamp(6)
}

model update_9987_wikivoyage_pois {
  id           Int       @id @default(autoincrement())
  article_name String?   @db.VarChar(500)
  listing_type String?   @db.VarChar(50)
  name         String    @db.VarChar(500)
  address      String?
  phone        String?   @db.VarChar(100)
  email        String?   @db.VarChar(255)
  website      String?   @db.VarChar(500)
  hours        String?
  price        String?
  latitude     String?   @db.VarChar(20)
  longitude    String?   @db.VarChar(20)
  h3_index     String?   @db.VarChar(20)
  description  String?
  country_code String?   @db.VarChar(2)
  raw_data     Json?
  created_at   DateTime? @default(now()) @db.Timestamp(6)
  updated_at   DateTime? @default(now()) @db.Timestamp(6)
}

model user_journeys {
  id                  String                @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  session_id          String                @unique(map: "user_journeys_session_id_unique") @db.VarChar
  visitor_id          String                @db.VarChar
  start_page          String                @db.VarChar
  end_page            String?               @db.VarChar
  touchpoint_count    Int?                  @default(0)
  duration_seconds    Int?                  @default(0)
  converted           Boolean?              @default(false)
  conversion_type     String?               @db.VarChar
  conversion_value    Int?
  utm_source          String?               @db.VarChar
  utm_medium          String?               @db.VarChar
  utm_campaign        String?               @db.VarChar
  device_type         String?               @db.VarChar
  started_at          DateTime?             @default(now()) @db.Timestamp(6)
  ended_at            DateTime?             @db.Timestamp(6)
  journey_touchpoints journey_touchpoints[]
}

model user_role_assignments {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  user_id     String    @db.VarChar
  role_id     String    @db.VarChar
  scope       String    @default("global") @db.VarChar(50)
  scope_value String?   @db.VarChar(255)
  granted_by  String?   @db.VarChar
  granted_at  DateTime? @default(now()) @db.Timestamp(6)
  expires_at  DateTime? @db.Timestamp(6)
  is_active   Boolean   @default(true)
}

model users {
  id                                   String                     @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  username                             String?                    @unique(map: "users_username_unique") @db.VarChar
  password_hash                        String?                    @db.VarChar
  email                                String?                    @unique(map: "idx_users_email") @db.VarChar
  name                                 String?                    @db.VarChar
  first_name                           String?                    @db.VarChar
  last_name                            String?                    @db.VarChar
  profile_image_url                    String?                    @db.VarChar
  role                                 user_role                  @default(editor)
  is_active                            Boolean                    @default(true)
  totp_secret                          String?                    @db.VarChar
  totp_enabled                         Boolean                    @default(false)
  totp_recovery_codes                  Json?                      @default("[]")
  created_at                           DateTime?                  @default(now()) @db.Timestamp(6)
  updated_at                           DateTime?                  @default(now()) @db.Timestamp(6)
  activities                           activities[]
  aeo_answer_capsules                  aeo_answer_capsules[]
  approval_requests                    approval_requests[]
  approval_steps                       approval_steps[]
  audit_logs                           audit_logs[]
  behavioral_triggers                  behavioral_triggers[]
  cohorts                              cohorts[]
  comments_comments_author_idTousers   comments[]                 @relation("comments_author_idTousers")
  comments_comments_resolved_byTousers comments[]                 @relation("comments_resolved_byTousers")
  content_calendar_items               content_calendar_items[]
  content_locks                        content_locks[]
  content_rules                        content_rules[]
  content_templates                    content_templates[]
  contents                             contents[]
  conversion_funnels                   conversion_funnels[]
  custom_reports                       custom_reports[]
  dashboard_configurations             dashboard_configurations[]
  data_exports                         data_exports[]
  drip_campaigns                       drip_campaigns[]
  editable_pages                       editable_pages[]
  email_templates                      email_templates[]
  governance_audit_logs                governance_audit_logs[]
  governance_policies                  governance_policies[]
  help_articles                        help_articles[]
  integration_connections              integration_connections[]
  live_chat_conversations              live_chat_conversations[]
  newsletter_ab_tests                  newsletter_ab_tests[]
  newsletter_campaigns                 newsletter_campaigns[]
  notifications                        notifications[]
  octopus_jobs                         octopus_jobs[]
}

model visa_requirements {
  id                       Int       @id @default(autoincrement())
  passport_country_code    String    @db.VarChar(2)
  destination_country_code String    @db.VarChar(2)
  visa_category            String    @db.VarChar(20)
  stay_duration            Int?
  notes                    String?
  source_url               String?   @db.VarChar
  last_updated             DateTime? @default(now()) @db.Timestamp(6)
  created_at               DateTime? @default(now()) @db.Timestamp(6)
}

model webhook_deliveries {
  id            String   @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  outbox_id     String   @db.VarChar
  attempt_no    Int
  sent_at       DateTime @default(now()) @db.Timestamp(6)
  duration_ms   Int?
  status_code   Int?
  error         String?
  response_body String?
}

model webhook_logs {
  id              String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  webhook_id      String    @db.VarChar
  event           String
  payload         Json?
  response_status Int?
  response_body   String?
  error           String?
  duration        Int?
  created_at      DateTime? @default(now()) @db.Timestamp(6)
}

model webhook_outbox {
  id               String                @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  endpoint_id      String                @db.VarChar
  event_type       String                @db.VarChar(100)
  payload_json     Json
  idempotency_key  String?               @db.VarChar(64)
  status           webhook_outbox_status @default(pending)
  attempts         Int                   @default(0)
  max_attempts     Int                   @default(12)
  next_attempt_at  DateTime?             @default(now()) @db.Timestamp(6)
  last_error       String?
  last_status_code Int?
  locked_until     DateTime?             @db.Timestamp(6)
  created_at       DateTime?             @default(now()) @db.Timestamp(6)
  updated_at       DateTime?             @default(now()) @db.Timestamp(6)
}

model webhooks {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name       String
  url        String
  secret     String?
  events     Json?     @default("[]")
  headers    Json?
  is_active  Boolean?  @default(true)
  created_by String?   @db.VarChar
  created_at DateTime? @default(now()) @db.Timestamp(6)
  updated_at DateTime? @default(now()) @db.Timestamp(6)
}

model workflow_approvals {
  id          String           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  instance_id String           @db.VarChar
  step_number Int
  approver_id String?          @db.VarChar
  status      workflow_status? @default(pending)
  comment     String?
  decided_at  DateTime?        @db.Timestamp(6)
  created_at  DateTime?        @default(now()) @db.Timestamp(6)
}

model workflow_executions {
  id           String                    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  workflow_id  String?                   @db.VarChar
  status       workflow_execution_status @default(pending)
  trigger_data Json?
  result       Json?
  error        String?
  started_at   DateTime?                 @default(now()) @db.Timestamp(6)
  completed_at DateTime?                 @db.Timestamp(6)
}

model workflow_instances {
  id           String           @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  template_id  String?          @db.VarChar
  content_id   String           @db.VarChar
  status       workflow_status? @default(pending)
  current_step Int?             @default(0)
  submitted_by String?          @db.VarChar
  submitted_at DateTime?        @default(now()) @db.Timestamp(6)
  completed_at DateTime?        @db.Timestamp(6)
  metadata     Json?
}

model workflow_templates {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name          String
  description   String?
  content_types Json?     @default("[]")
  steps         Json?     @default("[]")
  is_default    Boolean?  @default(false)
  is_active     Boolean?  @default(true)
  created_by    String?   @db.VarChar
  created_at    DateTime? @default(now()) @db.Timestamp(6)
  updated_at    DateTime? @default(now()) @db.Timestamp(6)
}

model workflows {
  id          String            @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name        String
  description String?
  trigger     Json
  actions     Json
  status      automation_status @default(draft)
  created_by  String?           @db.VarChar
  created_at  DateTime?         @default(now()) @db.Timestamp(6)
  updated_at  DateTime?         @default(now()) @db.Timestamp(6)
}

model writer_assignments {
  id           String                      @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  writer_id    String?                     @db.VarChar
  content_id   String?                     @db.VarChar
  content_type String?
  topic        String?
  status       writer_assignment_status?   @default(pending)
  match_score  Int?
  priority     writer_assignment_priority? @default(normal)
  due_date     DateTime?                   @db.Timestamp(6)
  completed_at DateTime?                   @db.Timestamp(6)
  created_at   DateTime?                   @default(now()) @db.Timestamp(6)
}

model writer_performance {
  id                     String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  writer_id              String?   @db.VarChar
  period                 String?   @db.VarChar
  articles_written       Int?      @default(0)
  total_views            Int?      @default(0)
  avg_engagement         Int?
  avg_seo_score          Int?
  avg_voice_score        Int?
  top_performing_article String?   @db.VarChar
  created_at             DateTime? @default(now()) @db.Timestamp(6)
}

enum ab_test_status {
  running
  completed
  paused
}

enum ab_test_type {
  title
  heroImage
  metaDescription
}

enum activity_type {
  content_created
  content_updated
  content_published
  content_deleted
  comment_added
  workflow_submitted
  workflow_approved
  workflow_rejected
  user_joined
  user_updated
  team_created
  translation_completed
  media_uploaded
  settings_changed
  login
  logout
}

enum advisory_severity {
  info
  warning
  critical
}

enum advisory_status {
  active
  expired
  pending
}

enum advisory_type {
  visa
  passport
  vaccination
  transit
  entry_requirements
}

enum aeo_citation_type {
  direct
  paraphrase
  reference
  recommendation
}

enum aeo_content_format {
  comparison
  best_time
  cost_guide
  faq_hub
  top_list
  how_to
  vs_guide
  complete_guide
}

enum aeo_platform {
  chatgpt
  perplexity
  google_aio
  claude
  bing_chat
  gemini
}

enum analytics_event_type {
  page_view
  click
  scroll
  form_start
  form_submit
  form_abandon
  cta_click
  outbound_link
  search
  filter
  share
  video_play
  video_complete
  download
  copy
  print
  add_to_favorites
  exit_intent
  conversion
  engagement
}

enum anomaly_severity {
  info
  warning
  critical
}

enum anomaly_type {
  spike
  drop
  trend_break
  outlier
  threshold
  missing
  pattern_break
}

enum article_category {
  attractions
  hotels
  food
  transport
  events
  tips
  news
  shopping
}

enum asset_source {
  upload
  ai_generated
  attached
  external
}

enum audit_action_type {
  create
  update
  delete
  publish
  unpublish
  submit_for_review
  approve
  reject
  login
  logout
  user_create
  user_update
  user_delete
  role_change
  settings_change
  media_upload
  media_delete
  restore
}

enum audit_entity_type {
  content
  user
  media
  settings
  rss_feed
  affiliate_link
  translation
  session
  tag
  cluster
  campaign
  newsletter_subscriber
  auth
}

enum automation_status {
  active
  inactive
  draft
}

enum budget_period {
  hourly
  daily
  weekly
  monthly
}

enum business_status {
  active
  pending
  expired
  cancelled
}

enum business_tier {
  basic
  premium
  enterprise
}

enum business_type {
  restaurant
  hotel
  tour
  shop
  service
}

enum campaign_status {
  draft
  scheduled
  sending
  sent
  failed
}

enum change_execution_kind {
  dry_run
  apply
  rollback
}

enum change_execution_status {
  queued
  running
  succeeded
  failed
  cancelled
}

enum change_item_type {
  content_update
  content_publish
  content_unpublish
  entity_merge
  entity_update
  canonical_set
  canonical_remove
  link_add
  link_remove
  aeo_regenerate
  seo_update
  experiment_start
  experiment_stop
  monetization_update
}

enum change_plan_scope {
  content
  entity
  seo
  aeo
  canonical
  links
  monetization
  global
}

enum change_plan_status {
  draft
  submitted
  approved
  applying
  completed
  failed
  rolled_back
  cancelled
}

enum cms_entity_type {
  homepage_section
  homepage_card
  experience_category
  region_link
  hero_slide
  homepage_cta
  homepage_seo_meta
  destination
}

enum commission_status {
  pending
  approved
  paid
  cancelled
}

enum content_intent {
  informational
  commercial
  transactional
  navigational
}

enum content_repair_status {
  pending
  simulated
  running
  completed
  failed
}

enum content_status {
  draft
  in_review
  reviewed
  approved
  scheduled
  published
  archived
}

enum content_type {
  attraction
  hotel
  article
  dining
  restaurant
  district
  transport
  event
  itinerary
  landing_page
  case_study
  off_plan
}

enum destination_event_status {
  upcoming
  ongoing
  completed
  cancelled
}

enum destination_event_type {
  festival
  sports
  conference
  concert
  exhibition
  cultural
  holiday
}

enum destination_level {
  country
  city
  area
}

enum destination_status {
  complete
  partial
  empty
}

enum email_event_type {
  sent
  delivered
  opened
  clicked
  bounced
  complained
  unsubscribed
}

enum governance_role {
  super_admin
  admin
  editor
  analyst
  ops
  viewer
}

enum health_alert_severity {
  low
  medium
  high
  critical
}

enum health_alert_status {
  active
  resolved
  monitoring
}

enum health_alert_type {
  disease_outbreak
  vaccination_required
  travel_restriction
  general_health
}

enum help_article_status {
  draft
  published
}

enum homepage_section {
  featured
  attractions
  hotels
  articles
  trending
  dining
  events
}

enum image_rating {
  like
  dislike
  skip
}

enum image_role {
  hero
  card
  thumbnail
  gallery
  background
  inline
  og_image
  logo
}

enum image_source {
  gemini
  openai
  freepik
  stock
  upload
}

enum image_usage_decision {
  approved
  rejected
  pending
  reuse
  generate
}

enum job_status {
  pending
  processing
  completed
  failed
}

enum job_type {
  translate
  ai_generate
  email
  image_process
  cleanup
}

enum lead_status {
  new
  contacted
  qualified
  converted
  lost
}

enum lead_type {
  inquiry
  booking_request
  quote_request
  contact
}

enum live_chat_status {
  open
  closed
  archived
}

enum locale {
  en
  ar
  hi
  zh
  ru
  ur
  fr
  de
  fa
  bn
  fil
  es
  tr
  it
  ja
  ko
  he
}

enum metric_snapshot_status {
  pending
  completed
  failed
}

enum native_entity_type {
  attraction
  guide
  destination
  district
}

enum notification_type {
  info
  success
  warning
  error
  workflow_pending
  workflow_approved
  workflow_rejected
  comment_mention
  comment_reply
  content_assigned
  system
}

enum octopus_artifact_action {
  created
  updated
  skipped
  deprecated
}

enum octopus_job_status {
  pending
  parsing
  extracting
  enriching
  graph_resolution
  entity_upsert
  generating
  quality_check
  fact_check
  publish_queue
  completed
  failed
  paused
}

enum opportunity_category {
  quick_win
  strategic
  technical
  content
  seo
  aeo
  revenue
}

enum opportunity_status {
  new
  acknowledged
  in_progress
  completed
  dismissed
}

enum page_layout_status {
  draft
  published
}

enum partner_status {
  active
  pending
  suspended
  inactive
}

enum payout_status {
  pending
  processing
  completed
  failed
}

enum pilot_locale_status {
  generating
  validating
  validated
  failed
  published
}

enum placement_surface {
  destination_homepage
  district_page
  category_seo
  comparison
  featured
  newsletter
  social
}

enum policy_decision {
  ALLOW
  WARN
  BLOCK
}

enum premium_access_type {
  one_time     @map("one-time")
  subscription
}

enum property_lead_status {
  new
  contacted
  qualified
  negotiating
  won
  lost
}

enum publish_status {
  draft
  review
  approved
  published
  archived
}

enum purchase_status {
  pending
  completed
  refunded
}

enum qa_check_status {
  not_checked
  passed
  failed
  not_applicable
  needs_review
}

enum qa_run_status {
  in_progress
  completed
  abandoned
}

enum question_type {
  text
  textarea
  radio
  checkbox
  rating
  dropdown
}

enum real_estate_page_category {
  guide
  calculator
  comparison
  case_study
  location
  developer
  pillar
}

enum recommendation_status {
  pending
  approved
  rejected
  applied
  failed
}

enum recommendation_type {
  convert_format
  resize
  compress
  add_missing_image
  add_alt_text
  improve_alt_text
  remove_duplicate
  replace_stock
  add_gallery_images
  optimize_dimensions
}

enum referral_status {
  pending
  converted
  expired
}

enum research_status {
  pending
  analyzing
  analyzed
  generating
  completed
  failed
}

enum section_type {
  hero
  intro_text
  highlight_grid
  filter_bar
  content_grid
  cta
  faq
  testimonial
  gallery
  stats
  features
  text_image
  video
  newsletter
  custom
}

enum seo_keyword_type {
  primary
  secondary
  long_tail
  question
  local
}

enum sequence_trigger {
  signup
  tag_added
  inactivity
  custom
}

enum social_platform {
  linkedin
  twitter
  facebook
  instagram
}

enum social_post_status {
  draft
  scheduled
  published
  failed
}

enum subscriber_status {
  pending_confirmation
  subscribed
  unsubscribed
  bounced
  complained
}

enum suggestion_status {
  pending
  approved
  rejected
  generating
  generated
  published
}

enum survey_status {
  draft
  active
  closed
  archived
}

enum tag_category {
  destination
  district
  hotel_type
  audience
  experience
  commercial
}

enum tag_source {
  ai
  manual
  rule
}

enum tiqets_attraction_status {
  imported
  processing
  ready
  published
  archived
}

enum topic_category {
  luxury_lifestyle
  food_dining
  bizarre_unique
  experiences_activities
  money_cost
  expat_living
  dark_side
  myth_busting
  comparisons
  records_superlatives
  future_development
  seasonal_events
  practical_tips
}

enum topic_cluster_status {
  pending
  merged
  dismissed
}

enum topic_format {
  video_tour
  photo_gallery
  pov_video
  cost_breakdown
  lifestyle_vlog
  documentary
  explainer
  comparison
  walking_tour
  food_tour
  interview
  tutorial
  asmr
  drone_footage
  night_photography
  infographic
  reaction_video
  challenge
  list_video
  guide
  review
}

enum topic_type {
  trending
  evergreen
  seasonal
}

enum translation_job_status {
  pending
  in_progress
  completed
  failed
  needs_review
}

enum translation_status {
  pending
  in_progress
  completed
  needs_review
}

enum travi_ai_model {
  gemini_2_0_flash_exp      @map("gemini-2.0-flash-exp")
  gpt_4o_mini               @map("gpt-4o-mini")
  claude_haiku_4_5_20251001 @map("claude-haiku-4-5-20251001")
}

enum travi_alert_severity {
  info
  warning
  critical
  budget_stop
}

enum travi_api_service {
  gemini
  gpt
  claude
  google_places
  freepik
  tripadvisor
  wikipedia
  osm
}

enum travi_job_status {
  pending
  running
  paused
  completed
  failed
  budget_exceeded
}

enum travi_job_type {
  discover_locations
  enrich_locations
  generate_content
  collect_images
  export_data
}

enum travi_location_category {
  attraction
  restaurant
  hotel
}

enum travi_location_status {
  discovered
  enriching
  generating
  ready
  error
  exported
}

enum user_role {
  admin
  editor
  author
  contributor
  viewer
}

enum viral_potential {
  LOW    @map("1")
  MEDIUM @map("2")
  GOOD   @map("3")
  HIGH   @map("4")
  VIRAL  @map("5")
}

enum webhook_event {
  content_created       @map("content.created")
  content_updated       @map("content.updated")
  content_published     @map("content.published")
  content_deleted       @map("content.deleted")
  user_created          @map("user.created")
  user_updated          @map("user.updated")
  translation_completed @map("translation.completed")
  workflow_submitted    @map("workflow.submitted")
  workflow_approved     @map("workflow.approved")
  workflow_rejected     @map("workflow.rejected")
  comment_created       @map("comment.created")
  media_uploaded        @map("media.uploaded")
}

enum webhook_outbox_status {
  pending
  sending
  succeeded
  failed
}

enum workflow_execution_status {
  pending
  running
  completed
  failed
}

enum workflow_status {
  pending
  in_progress
  approved
  rejected
  cancelled
}

enum writer_assignment_priority {
  low
  normal
  high
  urgent
}

enum writer_assignment_status {
  pending
  in_progress
  review
  completed
  published
}
