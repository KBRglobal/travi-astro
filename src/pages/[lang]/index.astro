---
import { t, changeLanguage } from "i18next";
import BaseLayout from '../../layouts/BaseLayout.astro';
import { languages, type Language } from '../../lib/i18n';

export async function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({
    params: { lang },
  }));
}

const { lang } = Astro.params as { lang: Language };

// Change language for i18next
changeLanguage(lang);

// TODO: Replace with Sanity data
const featuredAttractions = [
  {
    id: 'burj-khalifa',
    slug: 'burj-khalifa',
    title: t('home.featured.attraction1', { defaultValue: 'Burj Khalifa' }),
    description: t('home.featured.attraction1Desc', { defaultValue: "The world's tallest building" }),
    image: '/placeholder.jpg',
    category: 'landmarks',
  },
  {
    id: 'eiffel-tower',
    slug: 'eiffel-tower',
    title: t('home.featured.attraction2', { defaultValue: 'Eiffel Tower' }),
    description: t('home.featured.attraction2Desc', { defaultValue: 'Iconic symbol of Paris' }),
    image: '/placeholder.jpg',
    category: 'landmarks',
  },
  {
    id: 'colosseum',
    slug: 'colosseum',
    title: t('home.featured.attraction3', { defaultValue: 'Colosseum' }),
    description: t('home.featured.attraction3Desc', { defaultValue: 'Ancient Roman amphitheater' }),
    image: '/placeholder.jpg',
    category: 'cultural',
  },
];
---

<BaseLayout
  title={t('home.hero.title')}
  description={t('home.hero.subtitle')}
  lang={lang}
>
  <!-- Hero Section -->
  <section class="relative overflow-hidden bg-gradient-to-b from-muted/50 to-background py-20 md:py-32 lg:py-40">
    <div class="container">
      <div class="mx-auto flex max-w-[980px] flex-col items-center gap-6 text-center">
        <!-- Badge -->
        <div class="inline-flex items-center rounded-full border px-3 py-1 text-sm">
          <span class="font-semibold">{t('home.hero.badge', { defaultValue: '17 Destinations · 3,000+ Attractions' })}</span>
        </div>

        <!-- Main Heading -->
        <h1 class="text-4xl font-bold leading-tight tracking-tighter md:text-6xl lg:text-7xl lg:leading-[1.1]">
          {t('home.hero.headlinePart1', { defaultValue: 'Know Before' })}
          <span class="bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent">
            {' '}{t('home.hero.headlinePart2', { defaultValue: 'You Go' })}
          </span>
        </h1>

        <!-- Description -->
        <p class="max-w-[750px] text-lg text-muted-foreground sm:text-xl">
          {t('home.hero.description', {
            defaultValue: 'Detailed travel information for {{destinations}} destinations. Hours, prices, tips, and honest recommendations for {{attractions}}+ attractions.',
            destinations: '17',
            attractions: '3,000'
          })}
        </p>

        <!-- CTA Buttons -->
        <div class="flex flex-wrap gap-4 justify-center">
          <a
            href={`/${lang}/attractions`}
            class="inline-flex h-11 items-center justify-center rounded-md bg-primary px-8 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"
          >
            {t('home.hero.cta', { defaultValue: 'Explore Destinations' })}
          </a>
          <a
            href={`/${lang}/about`}
            class="inline-flex h-11 items-center justify-center rounded-md border border-input bg-background px-8 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"
          >
            {t('common.learnMore', { defaultValue: 'Learn More' })}
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Attractions Section -->
  <section class="container py-16 md:py-24">
    <div class="mb-8 flex items-center justify-between">
      <div>
        <h2 class="text-3xl font-bold tracking-tight">
          {t('home.topAttractions', { defaultValue: 'Top Attractions' })}
        </h2>
        <p class="text-muted-foreground mt-2">
          {t('home.sections.categoriesDesc', { defaultValue: 'Jump straight to what matters' })}
        </p>
      </div>
      <a
        href={`/${lang}/attractions`}
        class="text-sm font-medium text-primary hover:underline"
      >
        {t('common.viewAll', { defaultValue: 'View All' })} →
      </a>
    </div>

    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      {featuredAttractions.map((attraction) => (
        <a
          href={`/${lang}/attractions/${attraction.slug}`}
          class="group relative overflow-hidden rounded-lg border bg-card transition-all hover:shadow-lg"
        >
          <div class="aspect-video overflow-hidden bg-muted">
            <div class="flex h-full items-center justify-center text-muted-foreground">
              <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                <circle cx="8.5" cy="8.5" r="1.5"/>
                <polyline points="21 15 16 10 5 21"/>
              </svg>
            </div>
          </div>
          <div class="p-6">
            <h3 class="text-xl font-semibold group-hover:text-primary transition-colors">
              {attraction.title}
            </h3>
            <p class="mt-2 text-sm text-muted-foreground line-clamp-2">
              {attraction.description}
            </p>
            <div class="mt-4 flex items-center text-sm text-primary">
              {t('common.readMore', { defaultValue: 'Read More' })}
              <svg xmlns="http://www.w3.org/2000/svg" class="ml-1 h-4 w-4 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </div>
          </div>
        </a>
      ))}
    </div>
  </section>

  <!-- Categories Section -->
  <section class="container py-16 md:py-24 bg-muted/50 -mx-4 px-4 sm:mx-0 sm:px-0 sm:rounded-lg">
    <div class="mb-12 text-center">
      <h2 class="text-3xl font-bold tracking-tight">
        {t('home.sections.categories', { defaultValue: 'What Are You Looking For?' })}
      </h2>
      <p class="text-muted-foreground mt-2 max-w-[600px] mx-auto">
        {t('home.sections.categoriesDesc', { defaultValue: 'Jump straight to what matters' })}
      </p>
    </div>

    <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
      <a
        href={`/${lang}/attractions`}
        class="group relative overflow-hidden rounded-lg border bg-background p-6 transition-all hover:shadow-lg hover:border-primary/50"
      >
        <h3 class="text-xl font-semibold group-hover:text-primary transition-colors">
          {t('home.categories.attractions', { defaultValue: 'Attractions' })}
        </h3>
        <p class="mt-2 text-sm text-muted-foreground">
          {t('home.categories.attractionsDesc', { defaultValue: 'Must-see places' })}
        </p>
      </a>

      <a
        href={`/${lang}/articles`}
        class="group relative overflow-hidden rounded-lg border bg-background p-6 transition-all hover:shadow-lg hover:border-primary/50"
      >
        <h3 class="text-xl font-semibold group-hover:text-primary transition-colors">
          {t('home.categories.news', { defaultValue: 'Travel News' })}
        </h3>
        <p class="mt-2 text-sm text-muted-foreground">
          {t('home.categories.newsDesc', { defaultValue: 'Latest updates' })}
        </p>
      </a>

      <a
        href={`/${lang}/guides`}
        class="group relative overflow-hidden rounded-lg border bg-background p-6 transition-all hover:shadow-lg hover:border-primary/50"
      >
        <h3 class="text-xl font-semibold group-hover:text-primary transition-colors">
          {t('home.categories.guides', { defaultValue: 'Guides' })}
        </h3>
        <p class="mt-2 text-sm text-muted-foreground">
          {t('home.categories.guidesDesc', { defaultValue: 'Destination guides' })}
        </p>
      </a>

      <a
        href={`/${lang}/hotels`}
        class="group relative overflow-hidden rounded-lg border bg-background p-6 transition-all hover:shadow-lg hover:border-primary/50"
      >
        <h3 class="text-xl font-semibold group-hover:text-primary transition-colors">
          {t('home.categories.hotels', { defaultValue: 'Hotels' })}
        </h3>
        <p class="mt-2 text-sm text-muted-foreground">
          {t('home.categories.hotelsDesc', { defaultValue: 'Find your perfect stay' })}
        </p>
      </a>
    </div>
  </section>

  <!-- Travel Styles Section -->
  <section class="container py-16 md:py-24">
    <div class="mb-12 text-center">
      <h2 class="text-3xl font-bold tracking-tight">
        {t('home.sections.experiences', { defaultValue: 'Plan by Travel Style' })}
      </h2>
      <p class="text-muted-foreground mt-2 max-w-[600px] mx-auto">
        {t('home.sections.experiencesDesc', { defaultValue: 'Find places that match how you like to travel' })}
      </p>
    </div>

    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      <div class="group relative overflow-hidden rounded-lg border bg-card p-6 transition-all hover:shadow-lg">
        <h3 class="text-xl font-semibold">{t('home.experiences.luxury', { defaultValue: 'Luxury Travel' })}</h3>
        <p class="mt-2 text-sm text-muted-foreground">
          {t('home.experiences.luxuryDesc', { defaultValue: 'Premium travel experiences and exclusive destinations' })}
        </p>
      </div>

      <div class="group relative overflow-hidden rounded-lg border bg-card p-6 transition-all hover:shadow-lg">
        <h3 class="text-xl font-semibold">{t('home.experiences.adventure', { defaultValue: 'Adventure & Outdoors' })}</h3>
        <p class="mt-2 text-sm text-muted-foreground">
          {t('home.experiences.adventureDesc', { defaultValue: 'Thrilling outdoor experiences and adventures' })}
        </p>
      </div>

      <div class="group relative overflow-hidden rounded-lg border bg-card p-6 transition-all hover:shadow-lg">
        <h3 class="text-xl font-semibold">{t('home.experiences.family', { defaultValue: 'Family Travel' })}</h3>
        <p class="mt-2 text-sm text-muted-foreground">
          {t('home.experiences.familyDesc', { defaultValue: 'Family-friendly destinations and activities' })}
        </p>
      </div>

      <div class="group relative overflow-hidden rounded-lg border bg-card p-6 transition-all hover:shadow-lg">
        <h3 class="text-xl font-semibold">{t('home.experiences.budget', { defaultValue: 'Budget Travel' })}</h3>
        <p class="mt-2 text-sm text-muted-foreground">
          {t('home.experiences.budgetDesc', { defaultValue: 'Affordable travel options and destinations' })}
        </p>
      </div>

      <div class="group relative overflow-hidden rounded-lg border bg-card p-6 transition-all hover:shadow-lg">
        <h3 class="text-xl font-semibold">{t('home.experiences.honeymoon', { defaultValue: 'Honeymoon & Romance' })}</h3>
        <p class="mt-2 text-sm text-muted-foreground">
          {t('home.experiences.honeymoonDesc', { defaultValue: 'Romantic getaways and honeymoon destinations' })}
        </p>
      </div>

      <div class="group relative overflow-hidden rounded-lg border bg-card p-6 transition-all hover:shadow-lg">
        <h3 class="text-xl font-semibold">{t('home.experiences.solo', { defaultValue: 'Solo Travel' })}</h3>
        <p class="mt-2 text-sm text-muted-foreground">
          {t('home.experiences.soloDesc', { defaultValue: 'Perfect destinations for solo travelers' })}
        </p>
      </div>
    </div>
  </section>

  <!-- Newsletter Section -->
  <section class="container py-16 md:py-24">
    <div class="mx-auto max-w-2xl text-center">
      <h2 class="text-3xl font-bold tracking-tight">
        {t('home.sections.newsletter', { defaultValue: 'Get Weekly Travel Tips' })}
      </h2>
      <p class="mt-4 text-lg text-muted-foreground">
        {t('newsletter.description', { defaultValue: 'Subscribe to our newsletter for the latest travel guides and tips' })}
      </p>
      <form class="mt-8 flex gap-2 max-w-md mx-auto">
        <input
          type="email"
          placeholder={t('newsletter.emailPlaceholder', { defaultValue: 'Enter your email' })}
          class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"
          required
        />
        <button
          type="submit"
          class="inline-flex h-10 items-center justify-center rounded-md bg-primary px-6 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring whitespace-nowrap"
        >
          {t('common.subscribe', { defaultValue: 'Subscribe' })}
        </button>
      </form>
      <p class="mt-4 text-xs text-muted-foreground">
        {t('newsletter.privacy', { defaultValue: 'We respect your privacy. Unsubscribe at any time.' })}
      </p>
    </div>
  </section>
</BaseLayout>
