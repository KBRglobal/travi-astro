---
import Skeleton from './Skeleton.astro';

interface Props {
  showImage?: boolean;
  showCategory?: boolean;
  showRating?: boolean;
  lines?: number;
  className?: string;
}

const {
  showImage = true,
  showCategory = true,
  showRating = false,
  lines = 3,
  className = ''
} = Astro.props;
---

<div class={`bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden ${className}`}>
  {showImage && (
    <Skeleton width="w-full" height="h-48" rounded="none" />
  )}

  <div class="p-6 space-y-4">
    {showCategory && (
      <Skeleton width="w-24" height="h-5" rounded="full" />
    )}

    <div class="space-y-2">
      <Skeleton width="w-3/4" height="h-6" />

      {Array.from({ length: lines }).map(() => (
        <Skeleton width="w-full" height="h-4" />
      ))}
      <Skeleton width="w-2/3" height="h-4" />
    </div>

    {showRating && (
      <div class="flex items-center gap-2">
        <Skeleton width="w-20" height="h-4" />
        <Skeleton width="w-16" height="h-4" />
      </div>
    )}

    <div class="flex items-center gap-4 pt-2">
      <Skeleton width="w-32" height="h-10" rounded="lg" />
      <Skeleton width="w-24" height="h-10" rounded="lg" />
    </div>
  </div>
</div>
